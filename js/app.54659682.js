(function(){"use strict";var e={3067:function(e,t,o){var i=o(5130),s=o(6768);function n(e,t,o,i,n,a){const l=(0,s.g2)("ActivityView");return(0,s.uX)(),(0,s.Wv)(l)}var a=o(4232);const l={class:"container"},r={class:"row my-3"},c={class:"col"},d={class:"card bg-dark ps-3 py-2 text-light shadow d-flex justify-content-between align-items-center flex-row"},m={class:"row mb-3"},u={class:"col"},h={class:"row mb-3"},g={class:"col"},v={key:1};function p(e,t,o,i,n,p){const y=(0,s.g2)("SongLibrary"),b=(0,s.g2)("SongComplete"),S=(0,s.g2)("PlainTextLayout");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",l,[(0,s.Lk)("div",r,[(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[t[1]||(t[1]=(0,s.Lk)("p",{class:"fw-bold my-auto text-start mb-0"},"Welcome, Songwriter",-1)),(0,s.Lk)("button",{class:(0,a.C4)(["btn my-auto me-2 py-0",p.unsavedChanges?"btn-success":"btn-warning"]),onClick:t[0]||(t[0]=(...e)=>p.manualSaveState&&p.manualSaveState(...e))},(0,a.v_)(p.unsavedChanges?"Saved":"Unsaved"),3)])])]),(0,s.Lk)("div",m,[(0,s.Lk)("div",u,[(0,s.bF)(y)])]),(0,s.Lk)("div",h,[(0,s.Lk)("div",g,[e.activeSong?((0,s.uX)(),(0,s.Wv)(b,{key:0,song:e.activeSong,plainTextActive:n.plainTextActive,onTogglePlainText:p.togglePlainText},null,8,["song","plainTextActive","onTogglePlainText"])):((0,s.uX)(),(0,s.CE)("p",v,"No song selected")),e.activeSong&&n.plainTextActive?((0,s.uX)(),(0,s.Wv)(S,{key:2,song:e.activeSong},null,8,["song"])):(0,s.Q3)("",!0)])])])])}const y={class:"card bg-light text-dark mb-5"},b={class:"card-body text-start"},S={class:"card-footer text-end"};function f(e,t,o,i,n,l){return(0,s.uX)(),(0,s.CE)("div",y,[t[1]||(t[1]=(0,s.Lk)("div",{class:"card-header bg-dark text-light"},[(0,s.Lk)("p",{class:"my-auto fw-bold text-start"},"Plain Text Layout")],-1)),(0,s.Lk)("div",b,[(0,s.Lk)("pre",null,(0,a.v_)(l.formattedSong),1)]),(0,s.Lk)("div",S,[(0,s.Lk)("button",{class:"btn btn-primary btn-sm fw-bold",onClick:t[0]||(t[0]=(...e)=>l.copyToClipboard&&l.copyToClipboard(...e))}," Copy to Clipboard ")])])}o(8992),o(3949);var k=o(782),C={name:"PlainTextLayout",computed:{...(0,k.L8)({activeSong:"getActiveSong"}),formattedSong(){if(!this.activeSong)return"";let e=`Title: ${this.activeSong.title}\n`;return e+=`Mood: ${this.activeSong.mood}\n`,e+=`Theme: ${this.activeSong.theme}\n`,e+=`Hook: ${this.activeSong.hook}\n\n`,e+=`Key: ${this.activeSong.key}\n`,e+=`Scale: ${this.activeSong.scale}\n\n`,this.activeSong.sections.forEach((t=>{e+=`${t.type.toUpperCase()} - ${t.chordProgression}\n\n`,t.lines.forEach((t=>{e+=`${t}\n\n`})),e+="\n"})),e}},methods:{copyToClipboard(){const e=document.createElement("textarea");e.value=this.formattedSong,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},I=o(1241);const L=(0,I.A)(C,[["render",f]]);var E=L;const w={class:"card bg-card text-dark-muted mb-3 shadow-sm"},V={class:"card-body"},P={class:"text-start"},T={class:"row"},x={class:"col"},Q={class:"mb-3"},W={class:"col"},A={class:"mb-3"},R=["value"],H={key:0,class:"text-muted ms-2 mb-0"},M={class:"row"},_={class:"col"},X={class:"mb-3"},j=["value"],D={class:"col"},O={class:"mb-3"},N=["value"],F={key:0,class:"mb-3"},U={class:"table table-bordered input-off-white text-dark-muted overflow-auto"},B={class:"row"},$={class:"col"},z={class:"mb-3"},K={class:"col"},G={class:"mb-3"},J={class:"mb-3"},q={class:"mb-3"},Y={class:"card bg-card shadow-sm"},Z={class:"card-body"},ee={key:0,class:"mb-3 text-start"},te=["innerHTML"],oe=["value"];function ie(e,t,o,n,l,r){const c=(0,s.g2)("MelodyManager"),d=(0,s.g2)("SongSection");return(0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("div",V,[t[29]||(t[29]=(0,s.Lk)("h1",{class:"fs-4 my-auto fw-bold text-start"},"Song",-1)),t[30]||(t[30]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",P,[(0,s.Lk)("div",T,[(0,s.Lk)("div",x,[(0,s.Lk)("div",Q,[t[14]||(t[14]=(0,s.Lk)("label",{for:"songTitle",class:"form-label fw-bold"},"Title",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white",id:"songTitle","onUpdate:modelValue":t[0]||(t[0]=e=>l.localSong.title=e)},null,512),[[i.Jo,l.localSong.title]])])]),(0,s.Lk)("div",W,[(0,s.Lk)("div",A,[t[16]||(t[16]=(0,s.Lk)("label",{for:"songMood",class:"form-label fw-bold"},"Mood",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select input-off-white",id:"songMood","onUpdate:modelValue":t[1]||(t[1]=e=>l.localSong.mood=e)},[t[15]||(t[15]=(0,s.Lk)("option",{value:"",disabled:""},"Select a mood",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.moods,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.mood,value:e.mood},(0,a.v_)(e.mood),9,R)))),128))],512),[[i.u1,l.localSong.mood]]),r.selectedMoodImplication?((0,s.uX)(),(0,s.CE)("small",H," Musical Implication: "+(0,a.v_)(r.selectedMoodImplication),1)):(0,s.Q3)("",!0)])])]),(0,s.Lk)("div",M,[(0,s.Lk)("div",_,[(0,s.Lk)("div",X,[t[18]||(t[18]=(0,s.Lk)("label",{for:"songKey",class:"form-label fw-bold"},"Key",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select input-off-white",id:"songKey","onUpdate:modelValue":t[2]||(t[2]=e=>l.localSong.key=e)},[t[17]||(t[17]=(0,s.Lk)("option",{value:"",disabled:""},"Select a key",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.keys,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,a.v_)(e),9,j)))),128))],512),[[i.u1,l.localSong.key]])])]),(0,s.Lk)("div",D,[(0,s.Lk)("div",O,[t[20]||(t[20]=(0,s.Lk)("label",{for:"songScale",class:"form-label fw-bold"},"Scale",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select input-off-white",id:"songScale","onUpdate:modelValue":t[3]||(t[3]=e=>l.localSong.scale=e)},[t[19]||(t[19]=(0,s.Lk)("option",{value:"",disabled:""},"Select a scale",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.scales,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.name,value:e.name},(0,a.v_)(e.name)+" - "+(0,a.v_)(e.emotionalQuality),9,N)))),128))],512),[[i.u1,l.localSong.scale]])])])]),r.selectedKey&&r.selectedScale?((0,s.uX)(),(0,s.CE)("div",F,[(0,s.Lk)("table",U,[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[t[21]||(t[21]=(0,s.Lk)("th",null,"Diatonic Interval",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.romanNumerals,((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t,class:"text-center"},(0,a.v_)(e),1)))),128))])]),(0,s.Lk)("tbody",null,[(0,s.Lk)("tr",null,[t[22]||(t[22]=(0,s.Lk)("td",null,"Note",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.selectedScaleNotes.slice(0,-1),((e,t)=>((0,s.uX)(),(0,s.CE)("td",{key:t,class:"text-center"},(0,a.v_)(e),1)))),128))]),(0,s.Lk)("tr",null,[t[23]||(t[23]=(0,s.Lk)("td",null,"Chord",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.selectedScaleChords,((e,t)=>((0,s.uX)(),(0,s.CE)("td",{key:t,class:"text-center"},(0,a.v_)(e),1)))),128))])])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",B,[(0,s.Lk)("div",$,[(0,s.Lk)("div",z,[t[24]||(t[24]=(0,s.Lk)("label",{for:"songHook",class:"form-label fw-bold"},"Hook",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white",id:"songHook","onUpdate:modelValue":t[4]||(t[4]=e=>l.localSong.hook=e),placeholder:"Catchy phrase or refrain"},null,512),[[i.Jo,l.localSong.hook]])])]),(0,s.Lk)("div",K,[(0,s.Lk)("div",G,[t[25]||(t[25]=(0,s.Lk)("label",{for:"songTheme",class:"form-label fw-bold"},"Theme",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white",id:"songTheme","onUpdate:modelValue":t[5]||(t[5]=e=>l.localSong.theme=e),placeholder:"Briefly, this song is about..."},null,512),[[i.Jo,l.localSong.theme]])])])]),(0,s.Lk)("div",J,[t[26]||(t[26]=(0,s.Lk)("label",{for:"songNarrative",class:"form-label fw-bold"},"Narrative Outline",-1)),(0,s.bo)((0,s.Lk)("textarea",{class:"form-control input-off-white",id:"songNarrative",rows:"3","onUpdate:modelValue":t[6]||(t[6]=e=>l.localSong.narrativeOutline=e),placeholder:"Narrative plot points for each section",onInput:t[7]||(t[7]=(...e)=>r.autoResize&&r.autoResize(...e)),ref:"narrativeTextarea"},null,544),[[i.Jo,l.localSong.narrativeOutline]])])]),(0,s.bF)(c,{song:l.localSong},null,8,["song"]),(0,s.Lk)("div",q,[(0,s.Lk)("div",Y,[(0,s.Lk)("div",Z,[t[28]||(t[28]=(0,s.Lk)("div",{class:"text-start text-dark-muted"},[(0,s.Lk)("label",{for:"templateDropdown",class:"form-label fw-bold"},"Lyrical Arrangement Template")],-1)),l.selectedTemplate?((0,s.uX)(),(0,s.CE)("div",ee,[(0,s.Lk)("span",{innerHTML:r.arrangementVisualized(r.selectedTemplateArrangement)},null,8,te)])):(0,s.Q3)("",!0),(0,s.bo)((0,s.Lk)("select",{class:"form-select",id:"templateDropdown","onUpdate:modelValue":t[8]||(t[8]=e=>l.selectedTemplate=e)},[t[27]||(t[27]=(0,s.Lk)("option",{value:"",disabled:""},"Select a template",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.sectionTemplates,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.name,value:e.name},(0,a.v_)(e.name)+" - "+(0,a.v_)(r.arrangementText(e.arrangement)),9,oe)))),128))],512),[[i.u1,l.selectedTemplate]]),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mt-2",onClick:t[9]||(t[9]=(...e)=>r.confirmApplyTemplate&&r.confirmApplyTemplate(...e))}," Apply Template ")])])]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.orderedSections,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id},[(0,s.bF)(d,{section:e,isFirst:0===t,isLast:t===r.orderedSections.length-1,onUpdateLine:r.updateLine,onUpdateSection:r.updateSection,onRemoveSection:r.removeSection,onMoveSection:e=>r.moveSection(t,e)},null,8,["section","isFirst","isLast","onUpdateLine","onUpdateSection","onRemoveSection","onMoveSection"])])))),128)),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[10]||(t[10]=e=>r.addSection("verse"))}," Add Verse "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[11]||(t[11]=e=>r.addSection("chorus"))}," Add Chorus "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[12]||(t[12]=e=>r.addSection("bridge"))}," Add Bridge "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[13]||(t[13]=(...e)=>r.activatePlainTextView&&r.activatePlainTextView(...e))},(0,a.v_)(o.plainTextActive?"Hide Plain Text":"Show Plain Text"),1)])])}o(4114),o(4520),o(2577),o(1454);const se={class:"card mb-3 shadow-sm bg-card"},ne={class:"card-body bg-section-card pt-1 rounded"},ae={class:"row"},le={class:"col"},re={class:"d-flex justify-content-between align-items-center text-dark-muted"},ce={class:"ms-2 fs-5 fw-bold text-capitalize"},de={class:"btn-group gap-1"},me=["disabled"],ue=["disabled"],he={class:"row"},ge={class:"col"},ve={class:"input-group mb-2"},pe=["value"],ye=["onUpdate:modelValue","placeholder"],be={class:"btn-group ms-2 gap-1"},Se=["onClick","disabled"],fe=["onClick","disabled"],ke=["disabled"],Ce={class:"col-4"};function Ie(e,t,o,n,l,r){const c=(0,s.g2)("CountdownTimer"),d=(0,s.g2)("RhymeThesaurusPanel");return(0,s.uX)(),(0,s.CE)("div",se,[(0,s.Lk)("div",ne,[(0,s.Lk)("div",ae,[(0,s.Lk)("div",le,[(0,s.Lk)("div",re,[(0,s.Lk)("div",ce,[(0,s.eW)((0,a.v_)(o.section.type)+" ",1),t[10]||(t[10]=(0,s.Lk)("a",{href:"https://hookpad.hooktheory.com/",target:"_blank",class:"btn btn-outline-custom btn-sm py-0 ms-2",title:"Open Hookpad by Hooktheory in a new tab"},[(0,s.Lk)("span",{class:"bi bi-box-arrow-up-right"},[(0,s.Lk)("span",{class:"ms-2"},"Hookpad")])],-1))]),(0,s.bF)(c,{class:"ms-auto me-2 text-dark-muted"}),(0,s.Lk)("div",null,[(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold btn-sm py-0 me-2",onClick:t[0]||(t[0]=(...e)=>r.confirmRemoveSelf&&r.confirmRemoveSelf(...e))},t[11]||(t[11]=[(0,s.Lk)("span",{class:"bi bi-trash-fill"},null,-1)])),(0,s.Lk)("div",de,[(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[1]||(t[1]=e=>r.moveSelf("up")),disabled:o.isFirst}," ↑ ",8,me),(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[2]||(t[2]=e=>r.moveSelf("down")),disabled:o.isLast}," ↓ ",8,ue)])])])])]),t[16]||(t[16]=(0,s.Lk)("hr",{class:"mt-1 mb-3"},null,-1)),(0,s.Lk)("div",he,[(0,s.Lk)("div",ge,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control mb-2 input-off-white","onUpdate:modelValue":t[3]||(t[3]=e=>l.sectionNarrative=e),placeholder:"This section is about..."},null,512),[[i.Jo,l.sectionNarrative]]),(0,s.Lk)("div",ve,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white","onUpdate:modelValue":t[4]||(t[4]=e=>l.chordProgression=e),placeholder:"Chord progression (e.g., C G Am F)"},null,512),[[i.Jo,l.chordProgression]]),r.availableProgressions.length?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:0,class:"form-select input-off-white","onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedProgression=e),onChange:t[6]||(t[6]=(...e)=>r.applyChordProgression&&r.applyChordProgression(...e))},[t[12]||(t[12]=(0,s.Lk)("option",{value:"",disabled:""},"Select a chord progression",-1)),t[13]||(t[13]=(0,s.Lk)("option",{value:"custom"},"Custom Progression",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.availableProgressions,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e["Chord Progression"],value:e["Chord Progression"]},(0,a.v_)(e["Chord Progression"])+" - "+(0,a.v_)(e["Emotional Quality"]),9,pe)))),128))],544)),[[i.u1,l.selectedProgression]]):(0,s.Q3)("",!0)]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.section.lines,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"mb-2 d-flex align-items-center"},[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white","onUpdate:modelValue":e=>l.localLines[t]=e,placeholder:`Line ${t+1}`},null,8,ye),[[i.Jo,l.localLines[t]]]),(0,s.Lk)("div",be,[(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm h-100 my-0",onClick:e=>r.moveLine(t,"up"),disabled:0===t}," ↑ ",8,Se),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm h-100 my-0",onClick:e=>r.moveLine(t,"down"),disabled:t===l.localLines.length-1}," ↓ ",8,fe)])])))),128)),(0,s.Lk)("button",{class:"btn btn-outline-round mx-1",onClick:t[7]||(t[7]=(...e)=>r.removeLine&&r.removeLine(...e)),disabled:l.localLines.length<=1},t[14]||(t[14]=[(0,s.Lk)("span",{class:"fw-bold bi bi-dash-lg"},null,-1)]),8,ke),(0,s.Lk)("button",{class:"btn btn-outline-round mx-1",onClick:t[8]||(t[8]=(...e)=>r.addLine&&r.addLine(...e))},t[15]||(t[15]=[(0,s.Lk)("span",{class:"bi bi-plus-lg"},null,-1)]))]),(0,s.Lk)("div",Ce,[(0,s.bF)(d),(0,s.bo)((0,s.Lk)("textarea",{class:"form-control input-off-white",rows:"10",placeholder:"Brainstorming area...","onUpdate:modelValue":t[9]||(t[9]=e=>l.brainstormingText=e)},null,512),[[i.Jo,l.brainstormingText]])])])])])}const Le={class:"d-flex align-items-center justify-content-between"},Ee={class:"flex-grow-1 text-center"},we={key:0,class:"alert alert-danger my-1 fw-bold mx-3 py-0 text-nowrap"},Ve={key:1,class:"fw-bold fs-4 me-3 my-0"},Pe={class:"btn-group gap-1 w-100",role:"group"};function Te(e,t,o,i,n,l){return(0,s.uX)(),(0,s.CE)("div",Le,[(0,s.Lk)("div",Ee,[n.timerEnded?((0,s.uX)(),(0,s.CE)("p",we," Time's up! ")):((0,s.uX)(),(0,s.CE)("div",Ve,(0,a.v_)(l.formattedTime),1))]),(0,s.Lk)("div",Pe,[(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[0]||(t[0]=(...e)=>l.decrementTime&&l.decrementTime(...e))}," - "),(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[1]||(t[1]=(...e)=>l.incrementTime&&l.incrementTime(...e))}," + "),(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[2]||(t[2]=(...e)=>l.resetTime&&l.resetTime(...e))}," Reset ")])])}var xe={name:"CountdownTimer",data(){return{minutes:0,seconds:0,timer:null,timerEnded:!1,audio:new Audio(o(4890))}},computed:{formattedTime(){const e=this.minutes,t=this.seconds<10?"0"+this.seconds:this.seconds;return`${e}:${t}`}},methods:{startTimer(){this.timer||(this.timer=setInterval((()=>{0===this.seconds?0===this.minutes?(clearInterval(this.timer),this.timer=null,this.timerEnded=!0,this.audio.play(),setTimeout((()=>{this.timerEnded=!1}),3e3)):(this.minutes--,this.seconds=59):this.seconds--}),1e3))},incrementTime(){this.minutes++,this.startTimer()},decrementTime(){this.minutes>0&&this.minutes--},resetTime(){this.minutes=0,this.seconds=0,clearInterval(this.timer),this.timer=null,this.timerEnded=!1}}};const Qe=(0,I.A)(xe,[["render",Te]]);var We=Qe;const Ae={class:"input-group mb-2"},Re={key:0,class:"mt-2 alert alert-info position-relative",style:{"max-height":"20em","overflow-y":"auto"}},He={key:1,class:"mt-2 alert alert-info position-relative",style:{"max-height":"20em","overflow-y":"auto"}},Me={key:0},_e={class:"list-unstyled text-start"},Xe={key:1},je={class:"list-unstyled text-start"},De={class:"list-unstyled text-start"},Oe={class:"list-unstyled text-start"},Ne={key:2},Fe={class:"list-unstyled text-start"},Ue={key:3},Be={class:"list-unstyled text-start"},$e={key:4},ze={class:"list-unstyled text-start"};function Ke(e,t,o,n,l,r){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",Ae,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white",placeholder:"Word helper...","onUpdate:modelValue":t[0]||(t[0]=e=>r.sanitizedRhymeQuery=e),onKeyup:t[1]||(t[1]=(0,i.jR)(((...e)=>r.fetchRhymesAndSynonyms&&r.fetchRhymesAndSynonyms(...e)),["enter"]))},null,544),[[i.Jo,r.sanitizedRhymeQuery]]),(0,s.Lk)("button",{class:"btn btn-outline-custom",onClick:t[2]||(t[2]=(...e)=>r.fetchRhymesAndSynonyms&&r.fetchRhymesAndSynonyms(...e))},t[4]||(t[4]=[(0,s.Lk)("span",{class:"bi bi-search"},null,-1)]))]),l.loading?((0,s.uX)(),(0,s.CE)("div",Re,t[5]||(t[5]=[(0,s.Lk)("p",null,"Loading...",-1)]))):(0,s.Q3)("",!0),!l.loading&&(l.rhymes.length||l.synonyms.length||l.rawDictionaryResults)?((0,s.uX)(),(0,s.CE)("div",He,[(0,s.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 m-2","aria-label":"Close",onClick:t[3]||(t[3]=(...e)=>r.clearResults&&r.clearResults(...e))}),l.rawDictionaryResults&&l.rawDictionaryResults.length?((0,s.uX)(),(0,s.CE)("div",Me,[t[6]||(t[6]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Definition:",-1)),(0,s.Lk)("ul",_e,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.rawDictionaryResults,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},[(0,s.Lk)("strong",null,(0,a.v_)(e.hwi.hw),1),(0,s.eW)(" ("+(0,a.v_)(e.fl)+") ",1),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.shortdef,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])))),128))])])):(0,s.Q3)("",!0),l.rhymes.length?((0,s.uX)(),(0,s.CE)("div",Xe,[t[10]||(t[10]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Rhymes:",-1)),(0,s.Lk)("div",null,[t[7]||(t[7]=(0,s.Lk)("p",{class:"section-heading fs-6"},"1 Syllable Rhymes:",-1)),(0,s.Lk)("ul",je,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.oneSyllableRhymes,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e.word),1)))),128))])]),(0,s.Lk)("div",null,[t[8]||(t[8]=(0,s.Lk)("p",{class:"section-heading fs-6"},"2 Syllable Rhymes:",-1)),(0,s.Lk)("ul",De,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.twoSyllableRhymes,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e.word),1)))),128))])]),(0,s.Lk)("div",null,[t[9]||(t[9]=(0,s.Lk)("p",{class:"section-heading fs-6"},"3+ Syllable Rhymes:",-1)),(0,s.Lk)("ul",Oe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.threePlusSyllableRhymes,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e.word),1)))),128))])])])):(0,s.Q3)("",!0),l.synonyms.length?((0,s.uX)(),(0,s.CE)("div",Ne,[t[11]||(t[11]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Synonyms:",-1)),(0,s.Lk)("ul",Fe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.synonyms.slice(0,20),((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),l.idioms.length?((0,s.uX)(),(0,s.CE)("div",Ue,[t[12]||(t[12]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Idioms:",-1)),(0,s.Lk)("ul",Be,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.idioms.slice(0,20),((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),l.relatedWords.length?((0,s.uX)(),(0,s.CE)("div",$e,[t[13]||(t[13]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Related Words:",-1)),(0,s.Lk)("ul",ze,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.relatedWords.slice(0,20),((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),t[14]||(t[14]=(0,s.Fv)('<p class="section-heading fs-5" data-v-c4d36c26>API Attribution:</p><ul class="list-unstyled text-start" data-v-c4d36c26><li data-v-c4d36c26> Rhyme results are provided by <a href="https://rhymebrain.com" target="_blank" data-v-c4d36c26>RhymeBrain.com</a></li><li data-v-c4d36c26> Synonym results are provided by <a href="https://dictionaryapi.com" target="_blank" data-v-c4d36c26>Merriam-Webster Thesaurus</a></li><li data-v-c4d36c26> Dictionary results are provided by <a href="https://dictionaryapi.com" target="_blank" data-v-c4d36c26>Merriam-Webster Dictionary</a></li></ul>',2))])):(0,s.Q3)("",!0)])}var Ge=o(8353),Je={data(){return{rhymeQuery:"",rhymes:[],synonyms:[],idioms:[],relatedWords:[],rawThesaurusResults:null,rawDictionaryResults:null,loading:!1}},computed:{sanitizedRhymeQuery:{get(){return this.rhymeQuery},set(e){this.rhymeQuery=Ge.A.sanitize(e)}},oneSyllableRhymes(){return this.rhymes.filter((e=>1==e.syllables)).slice(0,10)},twoSyllableRhymes(){return this.rhymes.filter((e=>2==e.syllables)).slice(0,10)},threePlusSyllableRhymes(){return this.rhymes.filter((e=>e.syllables>=3)).slice(0,5)}},methods:{async fetchRhymesAndSynonyms(){if(""===this.rhymeQuery.trim())return this.rhymes=[],this.synonyms=[],this.idioms=[],this.relatedWords=[],this.rawThesaurusResults=null,void(this.rawDictionaryResults=null);this.loading=!0;try{const e=await fetch(`https://www.dictionaryapi.com/api/v3/references/collegiate/json/${this.rhymeQuery}?key=6515e3ae-2580-4db2-a88b-5c52e9444299`),t=await e.json();this.rawDictionaryResults=t;const o=await fetch(`https://www.dictionaryapi.com/api/v3/references/thesaurus/json/${this.rhymeQuery}?key=5530f2c7-3c20-4f89-8062-56afe1814600`),i=await o.json();i.length>0&&i[0].meta?(this.synonyms=i[0].meta.syns.flat(),this.idioms=i[0].meta.idioms?i[0].meta.idioms.flat():[],this.relatedWords=i[0].meta.rel_list?i[0].meta.rel_list.flat():[]):(this.synonyms=[],this.idioms=[],this.relatedWords=[]),this.rawThesaurusResults=i;const s=await fetch(`https://rhymebrain.com/talk?function=getRhymes&word=${this.rhymeQuery}`),n=await s.json();this.rhymes=n.map((e=>({word:e.word,syllables:e.syllables}))),console.log("Rhymes fetched:",this.rhymes),console.log("Synonyms fetched:",this.synonyms),console.log("Idioms fetched:",this.idioms),console.log("Related words fetched:",this.relatedWords),console.log("Raw thesaurus results:",this.rawThesaurusResults),console.log("Raw dictionary results:",this.rawDictionaryResults)}catch(e){console.error("Error fetching rhymes, synonyms, idioms, or dictionary data:",e)}finally{this.loading=!1}},clearResults(){this.rhymes=[],this.synonyms=[],this.idioms=[],this.relatedWords=[],this.rawThesaurusResults=null,this.rawDictionaryResults=null}}};const qe=(0,I.A)(Je,[["render",Ke],["__scopeId","data-v-c4d36c26"]]);var Ye=qe,Ze=JSON.parse('[{"Chord Progression":"I - IV - V","Emotional Quality":"Bright, triumphant"},{"Chord Progression":"I - V - vi - IV","Emotional Quality":"Emotional, nostalgic"},{"Chord Progression":"ii - V - I","Emotional Quality":"Resolution, jazzy"},{"Chord Progression":"I - vi - IV - V","Emotional Quality":"Romantic, uplifting"},{"Chord Progression":"I - IV - ii - V","Emotional Quality":"Flowing, smooth"},{"Chord Progression":"I - V - IV","Emotional Quality":"Upbeat, assertive"},{"Chord Progression":"I - IV - V - IV","Emotional Quality":"Majestic, classical"},{"Chord Progression":"I - vi - ii - V","Emotional Quality":"Sentimental, yearning"},{"Chord Progression":"IV - V - I","Emotional Quality":"Conclusive, celebratory"},{"Chord Progression":"vi - IV - I - V","Emotional Quality":"Longing, bittersweet"},{"Chord Progression":"I - V - vi - iii - IV","Emotional Quality":"Reflective, wistful"},{"Chord Progression":"iii - vi - IV - V","Emotional Quality":"Dreamy, evolving"},{"Chord Progression":"IV - I - V - IV","Emotional Quality":"Regal, triumphant"},{"Chord Progression":"I - ii - V","Emotional Quality":"Hopeful, anticipatory"},{"Chord Progression":"I - iii - IV","Emotional Quality":"Warm, lyrical"},{"Chord Progression":"I - V - ii - IV","Emotional Quality":"Resolute, dynamic"},{"Chord Progression":"I - IV - I","Emotional Quality":"Grounded, comforting"},{"Chord Progression":"I - V - IV - I","Emotional Quality":"Positive, complete"},{"Chord Progression":"ii - IV - V - I","Emotional Quality":"Spirited, evolving"},{"Chord Progression":"vi - ii - V - I","Emotional Quality":"Melancholic, resolving"},{"Chord Progression":"ii - V - vi","Emotional Quality":"Restless, searching"},{"Chord Progression":"IV - V - vi","Emotional Quality":"Suspenseful, delicate"},{"Chord Progression":"I - IV - vi - V","Emotional Quality":"Inspiring, emotional"},{"Chord Progression":"I - iii - vi - ii","Emotional Quality":"Reflective, tender"},{"Chord Progression":"V - IV - I - V","Emotional Quality":"Playful, cyclical"},{"Chord Progression":"I - IV - V - vi","Emotional Quality":"Expansive, optimistic"},{"Chord Progression":"ii - V - IV - I","Emotional Quality":"Sophisticated, concluding"},{"Chord Progression":"IV - I - V","Emotional Quality":"Balanced, grounded"},{"Chord Progression":"I - V - IV - V","Emotional Quality":"Joyful, triumphant"},{"Chord Progression":"I - ii - IV - I","Emotional Quality":"Pensive, lyrical"},{"Chord Progression":"vi - V - IV","Emotional Quality":"Brooding, dramatic"},{"Chord Progression":"I - vi - ii - IV","Emotional Quality":"Romantic, fluid"},{"Chord Progression":"I - IV - V - I","Emotional Quality":"Triumphant, satisfying"},{"Chord Progression":"iii - IV - I - V","Emotional Quality":"Ethereal, building"},{"Chord Progression":"I - V - iii - IV","Emotional Quality":"Sentimental, reflective"},{"Chord Progression":"I - IV - vi","Emotional Quality":"Lush, tender"},{"Chord Progression":"I - V - IV - IV","Emotional Quality":"Assertive, bold"},{"Chord Progression":"vi - IV - ii - V","Emotional Quality":"Haunting, reflective"},{"Chord Progression":"IV - I - ii - V","Emotional Quality":"Nostalgic, heartfelt"},{"Chord Progression":"vi - ii - V - IV","Emotional Quality":"Poignant, searching"},{"Chord Progression":"I - vi - iii - V","Emotional Quality":"Lighthearted, wistful"},{"Chord Progression":"I - IV - ii","Emotional Quality":"Stable, forward-moving"},{"Chord Progression":"I - V - vi - IV","Emotional Quality":"Inspiring, dramatic"},{"Chord Progression":"ii - V - IV","Emotional Quality":"Floating, jazzy"},{"Chord Progression":"I - iii - V - IV","Emotional Quality":"Romantic, tender"},{"Chord Progression":"IV - V - vi - I","Emotional Quality":"Bittersweet, hopeful"},{"Chord Progression":"V - IV - I","Emotional Quality":"Conclusive, energetic"},{"Chord Progression":"I - V - iii - ii","Emotional Quality":"Serene, introspective"},{"Chord Progression":"I - IV - iii - vi","Emotional Quality":"Lyrical, emotional"}]'),et=JSON.parse('[{"Chord Progression":"i - iv - v","Emotional Quality":"Somber, introspective"},{"Chord Progression":"i - VI - III - VII","Emotional Quality":"Melancholic, dramatic"},{"Chord Progression":"ii° - v - i","Emotional Quality":"Tense, resolving"},{"Chord Progression":"i - iv - VI - VII","Emotional Quality":"Dark, hopeful"},{"Chord Progression":"i - v - iv - v","Emotional Quality":"Mournful, reflective"},{"Chord Progression":"i - VI - VII","Emotional Quality":"Triumphant, strong"},{"Chord Progression":"i - iv - V","Emotional Quality":"Brooding, powerful"},{"Chord Progression":"i - VI - iv - V","Emotional Quality":"Hopeful, ascending"},{"Chord Progression":"iv - V - i","Emotional Quality":"Conclusive, bittersweet"},{"Chord Progression":"i - VII - VI - VII","Emotional Quality":"Expansive, mysterious"},{"Chord Progression":"i - III - VII - VI","Emotional Quality":"Longing, evolving"},{"Chord Progression":"i - iv - VII - i","Emotional Quality":"Dreamy, unsettled"},{"Chord Progression":"III - VII - i","Emotional Quality":"Regal, haunting"},{"Chord Progression":"i - v - VII","Emotional Quality":"Hopeful, ascending"},{"Chord Progression":"i - iv - V - i","Emotional Quality":"Mysterious, unfolding"},{"Chord Progression":"i - III - iv","Emotional Quality":"Poignant, reflective"},{"Chord Progression":"i - VI - VII - i","Emotional Quality":"Dark, resolute"},{"Chord Progression":"i - III - VII","Emotional Quality":"Bittersweet, concluding"},{"Chord Progression":"ii° - V - i","Emotional Quality":"Tense, jazzy"},{"Chord Progression":"VI - VII - i","Emotional Quality":"Mournful, serene"},{"Chord Progression":"i - v - III","Emotional Quality":"Dramatic, flowing"},{"Chord Progression":"i - iv - VII","Emotional Quality":"Ethereal, expansive"},{"Chord Progression":"i - v - VI - VII","Emotional Quality":"Haunting, rising"},{"Chord Progression":"i - III - v","Emotional Quality":"Dark, assertive"},{"Chord Progression":"VII - VI - v - i","Emotional Quality":"Restless, melancholic"},{"Chord Progression":"i - iv - V - VII","Emotional Quality":"Expansive, unsettled"},{"Chord Progression":"ii° - V - VI","Emotional Quality":"Mournful, jazzy"},{"Chord Progression":"III - VI - VII","Emotional Quality":"Majestic, evolving"},{"Chord Progression":"i - V - VII - i","Emotional Quality":"Resolute, cyclical"},{"Chord Progression":"i - iv - v - iv","Emotional Quality":"Somber, pensive"},{"Chord Progression":"VI - VII - iv","Emotional Quality":"Brooding, evolving"},{"Chord Progression":"i - VI - v - IV","Emotional Quality":"Sentimental, yearning"},{"Chord Progression":"i - iv - VII - VI","Emotional Quality":"Somber, majestic"},{"Chord Progression":"III - VII - VI - VII","Emotional Quality":"Expansive, evolving"},{"Chord Progression":"i - III - VI","Emotional Quality":"Ethereal, wistful"},{"Chord Progression":"i - iv - v - V","Emotional Quality":"Dark, cycling"},{"Chord Progression":"VII - VI - iv","Emotional Quality":"Haunting, flowing"},{"Chord Progression":"i - v - VII - VI","Emotional Quality":"Tense, resolving"},{"Chord Progression":"VI - i - iv","Emotional Quality":"Melancholic, lyrical"},{"Chord Progression":"i - VII - VI - iv","Emotional Quality":"Flowing, evolving"},{"Chord Progression":"i - III - VII - V","Emotional Quality":"Bittersweet, yearning"},{"Chord Progression":"i - iv - VI","Emotional Quality":"Mournful, steadfast"},{"Chord Progression":"i - v - VII - VII","Emotional Quality":"Expansive, lyrical"},{"Chord Progression":"ii° - VII - i","Emotional Quality":"Brooding, cyclical"},{"Chord Progression":"i - III - v - iv","Emotional Quality":"Mournful, wistful"},{"Chord Progression":"iv - V - i - VII","Emotional Quality":"Hopeful, building"},{"Chord Progression":"VI - VII - v","Emotional Quality":"Evolving, bittersweet"},{"Chord Progression":"VII - VI - iv - v","Emotional Quality":"Wistful, pensive"},{"Chord Progression":"i - v - III - VII","Emotional Quality":"Resolute, flowing"}]'),tt=o(8626),ot={emits:["update-section","remove-section","move-section","sync-chorus-sections"],props:{section:{type:Object,required:!0},isFirst:{type:Boolean,required:!0},isLast:{type:Boolean,required:!0}},components:{CountdownTimer:We,RhymeThesaurusPanel:Ye},data(){return{localLines:[...this.section.lines],sectionNarrative:this.section.sectionNarrative||"",chordProgression:this.section.chordProgression||"",brainstormingText:this.section.brainstormingText||"",majorProgressions:Ze,minorProgressions:et,selectedProgression:"",isCustomProgression:!1}},computed:{syncedChorus(){if("chorus"===this.section.type){const e=this.$store.state.songs.find((e=>e.id===this.section.songId)).sections.filter((e=>"chorus"===e.type));if(e.length>0)return e[0]}return this.section},availableProgressions(){return[...this.majorProgressions,...this.minorProgressions]}},methods:{updateLine(e,t){this.$set(this.localLines,e,t)},moveLine(e,t){"up"===t&&e>0?[this.localLines[e-1],this.localLines[e]]=[this.localLines[e],this.localLines[e-1]]:"down"===t&&e<this.localLines.length-1&&([this.localLines[e+1],this.localLines[e]]=[this.localLines[e],this.localLines[e+1]])},confirmRemoveSelf(){confirm("Are you sure you want to remove this section?")&&this.removeSelf()},removeSelf(){this.$emit("remove-section",this.section.id)},typeColor(e){switch(e){case"verse":return"bg-verse";case"chorus":return"bg-chorus";case"bridge":return"bg-bridge";default:return"bg-secondary text-white"}},addLine(){this.localLines.push("")},removeLine(){this.localLines.length>1&&this.localLines.pop()},moveSelf(e){this.$emit("move-section",e),console.log("moveSelf emitted")},updateSection:(0,tt.debounce)((function(){this.$emit("update-section",{...this.section,lines:this.localLines,sectionNarrative:this.sectionNarrative,chordProgression:this.chordProgression,brainstormingText:this.brainstormingText})}),1e3),syncChorusSections(){console.log("syncChorusSections clicked for section:",this.section.id);const e={lines:[...this.localLines],sectionNarrative:this.sectionNarrative,chordProgression:this.chordProgression,brainstormingText:this.brainstormingText};console.log("Chorus snapshot:",e),this.$emit("sync-chorus-sections",{sectionId:this.section.id,snapshot:e}),this.saveState()},saveState(){this.$store.dispatch("saveStateToFirestore")},applyChordProgression(){if("custom"!==this.selectedProgression)if(this.isCustomProgression=!1,this.$parent.selectedKey&&this.$parent.selectedScale){const e=this.$parent.selectedKey,t=this.$parent.selectedScale,o=t.notes(e),i={I:o[0],ii:o[1]+"m",iii:o[2]+"m",IV:o[3],V:o[4],vi:o[5]+"m","vii°":o[6]+"°"};this.chordProgression=this.selectedProgression.split(" - ").map((e=>i[e]||e)).join(" - ")}else this.chordProgression=this.selectedProgression;else this.isCustomProgression=!0}},watch:{localLines:{handler(){this.updateSection()},deep:!0},sectionNarrative(){this.updateSection()},brainstormingText(){this.updateSection()},chordProgression(){this.updateSection()},selectedProgression(){this.applyChordProgression()},"$parent.selectedKey"(){this.isCustomProgression||this.applyChordProgression()},"$parent.selectedScale"(){this.isCustomProgression||this.applyChordProgression()}}};const it=(0,I.A)(ot,[["render",Ie]]);var st=it;const nt={class:"card-body"},at={class:"d-flex justify-content-between align-items-center"},lt={key:0};function rt(e,t,o,i,n,l){return(0,s.uX)(),(0,s.CE)("div",{class:(0,a.C4)(["card bg-card mb-3 shadow-sm",{minimized:n.isMinimized}])},[(0,s.Lk)("div",nt,[(0,s.Lk)("div",at,[t[1]||(t[1]=(0,s.Lk)("p",{class:"text-start text-dark-muted fw-bold mb-3"},"Chrome Music Lab",-1)),(0,s.Lk)("button",{class:(0,a.C4)(["btn btn-outline-custom btn-sm fw-bold mb-3",n.isMinimized?"bi bi-chevron-down ":"bi bi-chevron-up"]),onClick:t[0]||(t[0]=(...e)=>l.toggleMinimize&&l.toggleMinimize(...e))},(0,a.v_)(n.isMinimized?"Expand":"Minimize"),3)]),n.isMinimized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",lt,t[2]||(t[2]=[(0,s.Lk)("div",{class:"mb-3",style:{height:"650px"}},[(0,s.Lk)("iframe",{src:"https://musiclab.chromeexperiments.com/",class:"staff-iframe",frameborder:"0"})],-1)])))])],2)}var ct={name:"MelodyManager",props:{song:{type:Object,required:!0}},data(){return{isMinimized:!0,tempo:120,measureLength:4}},methods:{toggleMinimize(){this.isMinimized=!this.isMinimized}}};const dt=(0,I.A)(ct,[["render",rt],["__scopeId","data-v-e7be025a"]]);var mt=dt;const ut=[{name:"Standard",arrangement:["v","c","v","c","b","c"]},{name:"Extended",arrangement:["v","c","v","c","v","b","c"]},{name:"Simple",arrangement:["v","c","v","c"]},{name:"Bridge First",arrangement:["b","v","c","v","c"]},{name:"Outro Heavy",arrangement:["v","c","v","c","c","c"]},{name:"Intro and Outro",arrangement:["v","c","b","c","v","c"]},{name:"Double Bridge",arrangement:["v","c","v","b","b","c"]},{name:"Refrain Heavy",arrangement:["v","c","v","c","c"]},{name:"Minimalist",arrangement:["v","c"]},{name:"All Verse",arrangement:["v","v","v","v"]},{name:"Verse Driven",arrangement:["v","v","c","v","c"]},{name:"Double Verse",arrangement:["v","v","c","v","v","c"]},{name:"No Bridge",arrangement:["v","c","v","c","v","c"]},{name:"Climactic",arrangement:["v","c","v","b","c","b","c"]},{name:"Retro",arrangement:["v","b","v","c","b","c"]},{name:"Experimental",arrangement:["b","c","v","b","v","c"]},{name:"Crescendo",arrangement:["v","c","v","c","b","c","c"]},{name:"Intro Repeat",arrangement:["v","v","c","v","c","c"]},{name:"Verse First",arrangement:["v","v","v","c","v","c"]},{name:"Bridge Ending",arrangement:["v","c","v","c","b","b"]},{name:"Triple Verse",arrangement:["v","v","v","c","c"]},{name:"Verse Heavy",arrangement:["v","v","v","c","v","b"]},{name:"All Chorus",arrangement:["c","c","c","c"]},{name:"Double Outro",arrangement:["v","c","v","c","c","c","c"]},{name:"Chorus Build",arrangement:["v","c","v","b","c","c"]},{name:"Looping",arrangement:["v","c","v","c","v","c"]},{name:"Climactic Outro",arrangement:["v","c","v","b","c","c","c"]},{name:"All Bridge",arrangement:["b","b","b","b"]},{name:"Interlude Focus",arrangement:["v","c","b","b","c"]},{name:"Outro Bridge",arrangement:["v","c","v","b","b"]},{name:"Verse Intro",arrangement:["v","v","c","b","c"]},{name:"Chorus First",arrangement:["c","v","v","c","b","c"]},{name:"Bridge Finale",arrangement:["v","c","v","c","b","b","b"]},{name:"Bridge Peak",arrangement:["v","c","b","b","c","c"]},{name:"Balanced",arrangement:["v","c","b","c","b","c"]},{name:"Layered",arrangement:["v","c","b","v","c","c"]},{name:"Dynamic",arrangement:["b","c","v","c","b","c"]},{name:"Inverse",arrangement:["c","v","b","v","c"]},{name:"Echo",arrangement:["v","c","v","b","v","c"]},{name:"End Focus",arrangement:["v","c","b","c","b","c"]},{name:"Sequential",arrangement:["v","c","b","v","c","b"]},{name:"Complex",arrangement:["v","c","v","b","c","v","b","c"]},{name:"Heavy Outro",arrangement:["v","c","b","c","c","c"]},{name:"Evolving",arrangement:["v","c","v","b","v","c","b"]},{name:"Drift",arrangement:["v","v","c","b","v","c"]},{name:"Offset",arrangement:["v","b","c","v","b","c"]},{name:"Stacked",arrangement:["v","v","b","b","c","c"]},{name:"Triple Bridge",arrangement:["v","c","b","b","b","c"]},{name:"Finale",arrangement:["v","c","v","c","b","b","c"]},{name:"Vibrant",arrangement:["v","c","b","c","v","c"]},{name:"Repeater",arrangement:["v","c","v","c","b","c","b","c"]}];var ht=ut;const gt=[{mood:"Happy",implications:"Major chords"},{mood:"Sad",implications:"Minor chords and slower tempo"},{mood:"Angry",implications:"Distorted guitars and fast tempo"},{mood:"Excited",implications:"Upbeat rhythm and high energy"},{mood:"Calm",implications:"Soft dynamics and slow tempo"},{mood:"Romantic",implications:"Smooth melodies and gentle harmonies"},{mood:"Melancholic",implications:"Minor chords and reflective lyrics"},{mood:"Energetic",implications:"Driving beat and syncopation"},{mood:"Reflective",implications:"Acoustic instruments and slow pace"},{mood:"Hopeful",implications:"Ascending melodies and major chords"},{mood:"Triumphant",implications:"Bold brass and rising dynamics"},{mood:"Mysterious",implications:"Unresolved chords and unusual scales"},{mood:"Tense",implications:"Dissonance and repetitive rhythms"},{mood:"Cheerful",implications:"Bright instrumentation and quick tempo"},{mood:"Lonely",implications:"Sparse arrangement and minor keys"},{mood:"Playful",implications:"Bouncy rhythms and quirky instrumentation"},{mood:"Dark",implications:"Low tones and slow, brooding tempo"},{mood:"Dreamy",implications:"Echo effects and soft harmonies"},{mood:"Optimistic",implications:"Rising melodies and energetic tempo"},{mood:"Nostalgic",implications:"Warm tones and vintage instrumentation"},{mood:"Aggressive",implications:"Heavy percussion and intense dynamics"},{mood:"Peaceful",implications:"Smooth transitions and mellow tones"},{mood:"Groovy",implications:"Syncopated bass lines and steady rhythm"},{mood:"Quirky",implications:"Unexpected chord progressions and unusual instruments"},{mood:"Ethereal",implications:"Reverb-heavy and light textures"}];var vt=gt;const pt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var yt=pt;const bt=[{name:"Major",emotionalQuality:"Happy",intervals:["W","W","H","W","W","W","H"],notes:e=>St(e,["W","W","H","W","W","W","H"]),chords:["Maj","min","min","Maj","Maj","min","dim"]},{name:"Minor",emotionalQuality:"Sad",intervals:["W","H","W","W","H","W","W"],notes:e=>St(e,["W","H","W","W","H","W","W"]),chords:["min","dim","Maj","min","min","Maj","Maj"]},{name:"Dorian",emotionalQuality:"Jazz-like",intervals:["W","H","W","W","W","H","W"],notes:e=>St(e,["W","H","W","W","W","H","W"]),chords:["min","min","Maj","Maj","min","dim","Maj"]},{name:"Phrygian",emotionalQuality:"Exotic",intervals:["H","W","W","W","H","W","W"],notes:e=>St(e,["H","W","W","W","H","W","W"]),chords:["min","Maj","Maj","min","dim","Maj","min"]},{name:"Lydian",emotionalQuality:"Dreamy",intervals:["W","W","W","H","W","W","H"],notes:e=>St(e,["W","W","W","H","W","W","H"]),chords:["Maj","Maj","min","dim","Maj","min","min"]},{name:"Mixolydian",emotionalQuality:"Bluesy",intervals:["W","W","H","W","W","H","W"],notes:e=>St(e,["W","W","H","W","W","H","W"]),chords:["Maj","min","dim","Maj","min","Maj","min"]},{name:"Locrian",emotionalQuality:"Dissonant",intervals:["H","W","W","H","W","W","W"],notes:e=>St(e,["H","W","W","H","W","W","W"]),chords:["dim","Maj","Maj","min","min","Maj","min"]},{name:"Pentatonic",emotionalQuality:"Versatile",intervals:["W","W","WH","W","WH"],notes:e=>St(e,["W","W","WH","W","WH"]),chords:["Maj","min"]},{name:"Blues",emotionalQuality:"Soulful",intervals:["W","H","H","WH","H","WH"],notes:e=>St(e,["W","H","H","WH","H","WH"]),chords:["min","min","dim"]},{name:"Harmonic Minor",emotionalQuality:"Dramatic",intervals:["W","H","W","W","H","WH","H"],notes:e=>St(e,["W","H","W","W","H","WH","H"]),chords:["min","dim","Aug","min","Maj","Maj","dim"]},{name:"Melodic Minor",emotionalQuality:"Sophisticated",intervals:["W","H","W","W","W","W","H"],notes:e=>St(e,["W","H","W","W","W","W","H"]),chords:["min","min","Aug","Maj","Maj","dim","dim"]}];function St(e,t){const o=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];let i=[],s=o.indexOf(e);if(-1===s)throw new Error("Invalid key");return i.push(o[s]),t.forEach((e=>{s+="W"===e?2:"H"===e?1:3,i.push(o[s%12])})),i}var ft=bt,kt={name:"SongComplete",components:{SongSection:st,MelodyManager:mt},props:{song:{type:Object,required:!0},plainTextActive:{type:Boolean,required:!0}},data(){return{localSong:{...this.song,sections:this.song.sections||[]},selectedTemplate:"",sectionTemplates:ht,moods:vt,keys:yt,scales:ft,romanNumerals:["I","ii","iii","IV","V","vi","vii°"],majorProgressions:Ze,minorProgressions:et,chordProgressions:[]}},created(){console.log("Song prop:",this.song),this.updateChordProgressions()},computed:{orderedSections(){return(this.localSong.sections||[]).slice().sort(((e,t)=>e.order[0]-t.order[0]))},selectedTemplateArrangement(){const e=this.sectionTemplates.find((e=>e.name===this.selectedTemplate));return e?e.arrangement:[]},selectedMoodImplication(){const e=this.moods.find((e=>e.mood===this.localSong.mood));return e?e.implications:""},selectedKey(){return this.localSong.key},selectedScale(){return this.scales.find((e=>e.name===this.localSong.scale))},selectedScaleNotes(){return this.selectedScale?this.selectedScale.notes(this.selectedKey):[]},selectedScaleChords(){return this.selectedScale?this.selectedScale.chords:[]}},watch:{song:{handler(e){this.localSong={...e,sections:e.sections||[]},console.log("Updated localSong:",this.localSong),this.$nextTick((()=>{this.autoResize({target:this.$refs.narrativeTextarea})}))},immediate:!0},localSong:{handler(e){this.updateSong(e),this.scheduleSaveStateToLocalStorage()},deep:!0},selectedKey(){this.updateChordProgressions()},selectedScale(){this.updateChordProgressions()}},methods:{...(0,k.i0)(["updateSong","scheduleSaveStateToLocalStorage"]),arrangementVisualized(e){return e.map((e=>{switch(e){case"v":return'<span class="badge bg-primary me-1">Verse</span>';case"c":return'<span class="badge bg-success me-1">Chorus</span>';case"b":return'<span class="badge bg-danger me-1">Bridge</span>';default:return""}})).join("")},arrangementText(e){return e.map((e=>{switch(e){case"v":return"Verse";case"c":return"Chorus";case"b":return"Bridge";default:return""}})).join(" - ")},confirmApplyTemplate(){confirm("Are you sure you want to apply this template? This will clear all existing sections.")&&this.applyTemplate()},applyTemplate(){const e=this.sectionTemplates.find((e=>e.name===this.selectedTemplate));e&&(this.localSong.sections=e.arrangement.map(((e,t)=>({id:t+1,order:[t],type:this.sectionLabel(e),lines:["","","",""],sectionNarrative:"",brainstormingText:""}))),this.updateSong(this.localSong))},updateLine({sectionId:e,index:t,newLine:o}){const i=this.localSong.sections.find((t=>t.id===e));i&&this.$set(i.lines,t,o)},addSection(e){const t={id:this.localSong.sections.length+1,order:[this.localSong.sections.length],type:e,lines:["","","",""],sectionNarrative:"",brainstormingText:""};this.localSong.sections.push(t)},updateSection:(0,tt.debounce)((function(e){const t=this.localSong.sections.findIndex((t=>t.id===e.id));-1!==t&&this.localSong.sections.splice(t,1,e),this.updateSong(this.localSong)}),1e3),removeSection(e){this.localSong.sections=this.localSong.sections.filter((t=>t.id!==e))},moveSection(e,t){if(console.log("moveSection called"),console.log(e,t),"up"===t&&e>0){const t=this.localSong.sections[e];this.localSong.sections[e]=this.localSong.sections[e-1],this.localSong.sections[e-1]=t}else if("down"===t&&e<this.localSong.sections.length-1){const t=this.localSong.sections[e];this.localSong.sections[e]=this.localSong.sections[e+1],this.localSong.sections[e+1]=t}this.localSong.sections.forEach(((e,t)=>{e.order=[t]})),this.updateSong(this.localSong)},activatePlainTextView(){this.$emit("toggle-plain-text")},badgeClass(e){switch(e){case"v":return"bg-primary";case"c":return"bg-success";case"b":return"bg-warning";default:return"bg-secondary"}},sectionLabel(e){switch(e){case"v":return"Verse";case"c":return"Chorus";case"b":return"Bridge";default:return"Unknown"}},autoResize(e){const t=e.target;t.style.height="auto",t.style.height=`${t.scrollHeight}px`},updateChordProgressions(){this.selectedKey&&this.selectedScale?this.chordProgressions=this.selectedScale.name.toLowerCase().includes("minor")?this.minorProgressions:this.majorProgressions:this.chordProgressions=[...this.majorProgressions,...this.minorProgressions]}}};const Ct=(0,I.A)(kt,[["render",ie]]);var It=Ct;const Lt={class:"row"},Et={class:"col"},wt={class:"card bg-card shadow-sm pb-3"},Vt={class:"card-body"},Pt={class:"d-flex align-items-center"},Tt={key:0,class:"tooltip-content p-2"},xt={class:"table input-off-white text-dark-muted"},Qt=["onClick"],Wt={class:"text-start",scope:"row"},At={class:"text-start"},Rt={class:"text-start"},Ht={class:"text-start"},Mt={class:"row"},_t={class:"col"};function Xt(e,t,o,i,n,l){return(0,s.uX)(),(0,s.CE)("div",Lt,[(0,s.Lk)("div",Et,[(0,s.Lk)("div",wt,[(0,s.Lk)("div",Vt,[(0,s.Lk)("div",Pt,[t[3]||(t[3]=(0,s.Lk)("h1",{class:"fs-4 my-auto fw-bold text-start text-dark-muted"}," Song Library ",-1)),(0,s.Lk)("div",{class:"bi bi-info-circle ms-2",onClick:t[0]||(t[0]=e=>n.showTooltip=!n.showTooltip)})]),n.showTooltip?((0,s.uX)(),(0,s.CE)("div",Tt,t[4]||(t[4]=[(0,s.Lk)("p",{class:"small"}," This app uses local storage to save your data. Local storage is a browser-specific feature that stores data on your device. This means your data is only accessible on the device and browser you are currently using. ",-1)]))):(0,s.Q3)("",!0),t[6]||(t[6]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("table",xt,[t[5]||(t[5]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",{class:"text-start"},[(0,s.Lk)("th",{scope:"col",style:{width:"5%"}},"#"),(0,s.Lk)("th",{scope:"col",style:{width:"20%"}},"Title"),(0,s.Lk)("th",{scope:"col",style:{width:"45%"}},"Hook"),(0,s.Lk)("th",{scope:"col",style:{width:"20%"}},"Last Edit")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.getSongs,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,onClick:t=>l.selectSong(e),class:(0,a.C4)({"table-primary":e.id===l.activeSongId,"cursor-pointer":!0})},[(0,s.Lk)("th",Wt,(0,a.v_)(t+1),1),(0,s.Lk)("td",At,(0,a.v_)(e.title),1),(0,s.Lk)("td",Rt,(0,a.v_)(e.hook),1),(0,s.Lk)("td",Ht,(0,a.v_)(l.formatDate(e.lastEdit)),1)],10,Qt)))),128))])])]),(0,s.Lk)("div",Mt,[(0,s.Lk)("div",_t,[(0,s.Lk)("button",{class:"btn btn-outline-custom me-2 btn-sm fw-bold",onClick:t[1]||(t[1]=(...e)=>l.confirmRemoveSong&&l.confirmRemoveSong(...e))}," Remove Song "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold",onClick:t[2]||(t[2]=(...e)=>l.newSong&&l.newSong(...e))}," Add Song ")])])])])])}var jt={name:"SongLibrary",data(){return{selectedSong:null,showTooltip:!1}},computed:{...(0,k.L8)(["getSongs","getActiveSong"]),activeSongId(){return this.getActiveSong?this.getActiveSong.id:null}},methods:{...(0,k.i0)(["addSong","deleteSong","setActiveSong","updateSong","setSongs","resetStore"]),selectSong(e){this.selectedSong&&this.updateSong(this.selectedSong),this.selectedSong=e,this.setActiveSong(e)},newSong(){this.addSong()},confirmRemoveSong(){this.selectedSong?confirm(`Are you sure you want to remove the song "${this.selectedSong.title}"?`)&&this.removeSong():alert("Please select a song to remove.")},removeSong(){this.selectedSong&&(this.deleteSong(this.selectedSong.id),this.selectedSong=null,this.refreshAppState())},refreshAppState(){0===this.getSongs.length?this.resetStore():(this.setSongs(this.getSongs),this.setActiveSong(null))},formatDate(e){const t=new Date(e),o={month:"2-digit",day:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleString("en-US",o).replace(",","")}},watch:{getSongs:{handler(){this.selectedSong&&(this.selectedSong=this.getSongs.find((e=>e.id===this.selectedSong.id)))},deep:!0},getActiveSong:{handler(e){this.selectedSong=e},immediate:!0}}};const Dt=(0,I.A)(jt,[["render",Xt],["__scopeId","data-v-7b21fbd6"]]);var Ot=Dt,Nt={name:"ActivityView",components:{SongLibrary:Ot,SongComplete:It,PlainTextLayout:E},computed:{...(0,k.L8)({activeSong:"getActiveSong",unsavedChanges:"getUnsavedChanges"}),unsavedChanges(){return this.activeSongChanged||this.localSongChanged}},watch:{activeSong:{handler(e){this.localSong={...e},this.saveStateToLocalStorage(),this.activeSongChanged=!0},immediate:!0},localSong:{handler(e){this.updateSong(e),this.activeSongChanged||this.debounceSaveState(),this.localSongChanged=!0},deep:!0}},data(){return{localSong:null,plainTextActive:!1,debounceTimeout:null}},methods:{...(0,k.i0)(["updateSong","saveStateToLocalStorage","setUnsavedChanges"]),togglePlainText(){this.plainTextActive=!this.plainTextActive},debounceSaveState(){clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((()=>{this.saveStateToLocalStorage(),this.activeSongChanged=!1,this.localSongChanged=!1}),1e3)},manualSaveState(){this.saveStateToLocalStorage(),this.setUnsavedChanges(!1)}}};const Ft=(0,I.A)(Nt,[["render",p]]);var Ut=Ft,Bt={name:"App",components:{ActivityView:Ut}};const $t=(0,I.A)(Bt,[["render",n]]);var zt=$t,Kt=o(2952),Gt=o.n(Kt);const Jt=(0,k.y$)({state:{songs:JSON.parse(localStorage.getItem("songs"))||[],activeSong:JSON.parse(localStorage.getItem("activeSong"))||null,user:null,unsavedChanges:!1},mutations:{SET_UNSAVED_CHANGES(e,t){e.unsavedChanges=t},SET_USER(e,t){e.user=t},SET_SONGS(e,t){e.songs=t},ADD_SONG(e,t){e.songs.push(t)},DELETE_SONG(e,t){const o=e.songs.findIndex((e=>e.id===t));-1!==o&&e.songs.splice(o,1)},UPDATE_SONG(e,t){const o=e.songs.findIndex((e=>e.id===t.id));-1!==o&&(e.songs[o]={...e.songs[o],...t,lastEdit:(new Date).toISOString()})},SET_ACTIVE_SONG(e,t){e.activeSong={...t}},UPDATE_SECTION(e,{songId:t,section:o}){const i=e.songs.find((e=>e.id===t));if(i){const e=i.sections.findIndex((e=>e.id===o.id));-1!==e&&i.sections.splice(e,1,o)}},RESET_STORE(e){e.songs=[],e.activeSong=null}},actions:{setUnsavedChanges({commit:e},t){e("SET_UNSAVED_CHANGES",t)},setUser({commit:e},t){e("SET_USER",t)},setSongs({commit:e},t){e("SET_SONGS",t)},addSong({commit:e,dispatch:t}){const o={id:(new Date).getTime(),title:"Untitled",mood:"",hook:"",theme:"",narrativeOutline:"",sections:[],lastEdit:(new Date).toISOString()};e("ADD_SONG",o),t("scheduleSaveStateToLocalStorage")},addSection({commit:e,dispatch:t},o){e("ADD_SECTION",o),t("scheduleSaveStateToLocalStorage")},deleteSong({commit:e,dispatch:t},o){e("DELETE_SONG",o),t("scheduleSaveStateToLocalStorage")},updateSong({commit:e,dispatch:t},o){e("UPDATE_SONG",o),t("scheduleSaveStateToLocalStorage")},setActiveSong({commit:e},t){e("SET_ACTIVE_SONG",t)},updateSection({commit:e,dispatch:t},o){e("UPDATE_SECTION",o),t("scheduleSaveStateToLocalStorage")},resetStore({commit:e,dispatch:t}){e("RESET_STORE"),t("scheduleSaveStateToLocalStorage")},saveStateToLocalStorage({state:e}){localStorage.setItem("songs",JSON.stringify(e.songs)),localStorage.setItem("activeSong",JSON.stringify(e.activeSong)),console.log("State saved to local storage")},scheduleSaveStateToLocalStorage:Gt()((({dispatch:e})=>{e("saveStateToLocalStorage")}),1e3),loadStateFromLocalStorage({commit:e}){const t=JSON.parse(localStorage.getItem("songs"))||[],o=JSON.parse(localStorage.getItem("activeSong"))||null;e("SET_SONGS",t),e("SET_ACTIVE_SONG",o),console.log("State loaded from local storage")}},getters:{getUnsavedChanges(e){return e.unsavedChanges},getSongs(e){return e.songs},getActiveSong(e){return e.activeSong},user(e){return e.user}}});Jt.dispatch("loadStateFromLocalStorage");var qt=Jt,Yt=o(1387);const Zt=[{path:qt.getters.useLandingPage?"/activity":"/",name:"ActivityView",component:Ut}],eo=(0,Yt.aE)({linkExactActiveClass:"fw-bold",history:(0,Yt.LA)("/lyric-writing-assistant/"),routes:Zt});var to=eo;async function oo(){(0,i.Ef)(zt).use(qt).use(to).mount("#app")}oo()},4890:function(e,t,o){e.exports=o.p+"media/alarm.e1848079.mp3"}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,i,s,n){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],n=e[d][2];for(var l=!0,r=0;r<i.length;r++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(l=!1,n<a&&(a=n));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/lyric-writing-assistant/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,a=i[0],l=i[1],r=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(r)var d=r(o)}for(t&&t(i);c<a.length;c++)n=a[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},i=self["webpackChunklyric_writing_assistant"]=self["webpackChunklyric_writing_assistant"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(3067)}));i=o.O(i)})();
//# sourceMappingURL=app.54659682.js.map