(function(){"use strict";var e={145:function(e,t,o){var i=o(5130),s=o(6768);function n(e,t,o,i,n,a){const r=(0,s.g2)("ActivityView");return(0,s.uX)(),(0,s.Wv)(r)}var a=o(4232);const r={class:"container"},l={class:"row my-3"},c={class:"col"},d={class:"card bg-dark ps-3 py-2 text-light shadow d-flex justify-content-between align-items-center flex-row"},h={class:"row mb-3"},u={class:"col"},m={class:"row mb-3"},g={class:"col"},y={key:1};function v(e,t,o,i,n,v){const p=(0,s.g2)("SongLibrary"),b=(0,s.g2)("SongComplete"),f=(0,s.g2)("PlainTextLayout");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",r,[(0,s.Lk)("div",l,[(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[t[1]||(t[1]=(0,s.Lk)("p",{class:"fw-bold my-auto text-start mb-0"},"Welcome, Songwriter",-1)),(0,s.Lk)("button",{class:(0,a.C4)(["btn my-auto me-2 py-0",v.unsavedChanges?"btn-success":"btn-warning"]),onClick:t[0]||(t[0]=(...e)=>v.manualSaveState&&v.manualSaveState(...e))},(0,a.v_)(v.unsavedChanges?"Saved":"Unsaved"),3)])])]),(0,s.Lk)("div",h,[(0,s.Lk)("div",u,[(0,s.bF)(p)])]),(0,s.Lk)("div",m,[(0,s.Lk)("div",g,[e.activeSong?((0,s.uX)(),(0,s.Wv)(b,{key:0,song:e.activeSong,plainTextActive:n.plainTextActive,onTogglePlainText:v.togglePlainText},null,8,["song","plainTextActive","onTogglePlainText"])):((0,s.uX)(),(0,s.CE)("p",y,"No song selected")),e.activeSong&&n.plainTextActive?((0,s.uX)(),(0,s.Wv)(f,{key:2,song:e.activeSong},null,8,["song"])):(0,s.Q3)("",!0)])])])])}const p={class:"card bg-light text-dark mb-5"},b={class:"card-body text-start"},f={class:"card-footer text-end"};function w(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",p,[t[1]||(t[1]=(0,s.Lk)("div",{class:"card-header bg-dark text-light"},[(0,s.Lk)("p",{class:"my-auto fw-bold text-start"},"Plain Text Layout")],-1)),(0,s.Lk)("div",b,[(0,s.Lk)("pre",null,(0,a.v_)(r.formattedSong),1)]),(0,s.Lk)("div",f,[(0,s.Lk)("button",{class:"btn btn-primary btn-sm fw-bold",onClick:t[0]||(t[0]=(...e)=>r.copyToClipboard&&r.copyToClipboard(...e))}," Copy to Clipboard ")])])}o(8992),o(3949);var k=o(782),S={name:"PlainTextLayout",computed:{...(0,k.L8)({activeSong:"getActiveSong"}),formattedSong(){if(!this.activeSong)return"";let e=`Title: ${this.activeSong.title}\n`;return e+=`Mood: ${this.activeSong.mood}\n`,e+=`Theme: ${this.activeSong.theme}\n`,e+=`Hook: ${this.activeSong.hook}\n\n`,e+=`Key: ${this.activeSong.key}\n`,e+=`Scale: ${this.activeSong.scale}\n\n`,this.activeSong.sections.forEach((t=>{e+=`${t.type.toUpperCase()} - ${t.chordProgression}\n\n`,t.lines.forEach((t=>{e+=`${t}\n\n`})),e+="\n"})),e}},methods:{copyToClipboard(){const e=document.createElement("textarea");e.value=this.formattedSong,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},I=o(1241);const C=(0,I.A)(S,[["render",w]]);var W=C;const L={class:"card bg-card text-dark-muted mb-3 shadow-sm"},E={class:"card-body"},V={class:"text-start"},P={class:"row"},T={class:"col"},x={class:"mb-3"},Q={class:"col"},D={class:"mb-3"},H=["value"],R={key:0,class:"text-muted ms-2 mb-0"},A={class:"row"},M={class:"col"},_={class:"mb-3"},j=["value"],X={class:"col"},O={class:"mb-3"},N=["value"],F={key:0,class:"mb-3"},U={class:"table table-bordered input-off-white text-dark-muted overflow-auto"},z={class:"mb-3"},B=["value"],$={class:"mb-3"},K={class:"mb-3"},G={class:"mb-3"},J={class:"card bg-card shadow-sm"},q={class:"card-body"},Y={key:0,class:"mb-3 text-start"},Z=["innerHTML"],ee=["value"];function te(e,t,o,n,r,l){const c=(0,s.g2)("MelodyManager"),d=(0,s.g2)("SongSection");return(0,s.uX)(),(0,s.CE)("div",L,[(0,s.Lk)("div",E,[t[34]||(t[34]=(0,s.Lk)("h1",{class:"fs-4 my-auto fw-bold text-start"},"Song",-1)),t[35]||(t[35]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",V,[(0,s.Lk)("div",P,[(0,s.Lk)("div",T,[(0,s.Lk)("div",x,[t[17]||(t[17]=(0,s.Lk)("label",{for:"songTitle",class:"form-label fw-bold"},"Title",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white",id:"songTitle","onUpdate:modelValue":t[0]||(t[0]=e=>r.localSong.title=e)},null,512),[[i.Jo,r.localSong.title]])])]),(0,s.Lk)("div",Q,[(0,s.Lk)("div",D,[t[19]||(t[19]=(0,s.Lk)("label",{for:"songMood",class:"form-label fw-bold"},"Mood",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select input-off-white",id:"songMood","onUpdate:modelValue":t[1]||(t[1]=e=>r.localSong.mood=e)},[t[18]||(t[18]=(0,s.Lk)("option",{value:"",disabled:""},"Select a mood",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.moods,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.mood,value:e.mood},(0,a.v_)(e.mood),9,H)))),128))],512),[[i.u1,r.localSong.mood]]),l.selectedMoodImplication?((0,s.uX)(),(0,s.CE)("small",R," Musical Implication: "+(0,a.v_)(l.selectedMoodImplication),1)):(0,s.Q3)("",!0)])])]),(0,s.Lk)("div",A,[(0,s.Lk)("div",M,[(0,s.Lk)("div",_,[t[21]||(t[21]=(0,s.Lk)("label",{for:"songKey",class:"form-label fw-bold"},"Key",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select input-off-white",id:"songKey","onUpdate:modelValue":t[2]||(t[2]=e=>r.localSong.key=e)},[t[20]||(t[20]=(0,s.Lk)("option",{value:"",disabled:""},"Select a key",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.keys,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,a.v_)(e),9,j)))),128))],512),[[i.u1,r.localSong.key]])])]),(0,s.Lk)("div",X,[(0,s.Lk)("div",O,[t[23]||(t[23]=(0,s.Lk)("label",{for:"songScale",class:"form-label fw-bold"},"Scale",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select input-off-white",id:"songScale","onUpdate:modelValue":t[3]||(t[3]=e=>r.localSong.scale=e)},[t[22]||(t[22]=(0,s.Lk)("option",{value:"",disabled:""},"Select a scale",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.scales,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.name,value:e.name},(0,a.v_)(e.name)+" - "+(0,a.v_)(e.emotionalQuality),9,N)))),128))],512),[[i.u1,r.localSong.scale]])])])]),l.selectedKey&&l.selectedScale?((0,s.uX)(),(0,s.CE)("div",F,[(0,s.Lk)("table",U,[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[t[24]||(t[24]=(0,s.Lk)("th",null,"Diatonic Interval",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.romanNumerals,((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t,class:"text-center"},(0,a.v_)(e),1)))),128))])]),(0,s.Lk)("tbody",null,[(0,s.Lk)("tr",null,[t[25]||(t[25]=(0,s.Lk)("td",null,"Note",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.selectedScaleNotes.slice(0,-1),((e,t)=>((0,s.uX)(),(0,s.CE)("td",{key:t,class:"text-center"},(0,a.v_)(e),1)))),128))]),(0,s.Lk)("tr",null,[t[26]||(t[26]=(0,s.Lk)("td",null,"Chord",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.selectedScaleChords,((e,t)=>((0,s.uX)(),(0,s.CE)("td",{key:t,class:"text-center"},(0,a.v_)(e),1)))),128))])])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",z,[t[29]||(t[29]=(0,s.Lk)("label",{for:"songTheme",class:"form-label fw-bold"},"Theme",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select input-off-white",id:"songTheme","onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedTheme=e),onChange:t[5]||(t[5]=(...e)=>l.handleThemeChange&&l.handleThemeChange(...e))},[t[27]||(t[27]=(0,s.Lk)("option",{value:"",disabled:""},"Select a theme",-1)),t[28]||(t[28]=(0,s.Lk)("option",{value:"custom"},"Custom",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.prompts,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,a.v_)(e),9,B)))),128))],544),[[i.u1,r.selectedTheme]]),"custom"===r.selectedTheme?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:0,type:"text",class:"form-control input-off-white mt-2","onUpdate:modelValue":t[6]||(t[6]=e=>r.localSong.theme=e),placeholder:"Briefly, this song is about..."},null,512)),[[i.Jo,r.localSong.theme]]):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mt-2",onClick:t[7]||(t[7]=(...e)=>l.selectRandomPrompt&&l.selectRandomPrompt(...e))}," Select Random Prompt ")]),(0,s.Lk)("div",$,[t[30]||(t[30]=(0,s.Lk)("label",{for:"songHook",class:"form-label fw-bold"},"Hook",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white",id:"songHook","onUpdate:modelValue":t[8]||(t[8]=e=>r.localSong.hook=e),placeholder:"Catchy phrase or refrain"},null,512),[[i.Jo,r.localSong.hook]])]),(0,s.Lk)("div",K,[t[31]||(t[31]=(0,s.Lk)("label",{for:"songNarrative",class:"form-label fw-bold"},"Narrative Outline",-1)),(0,s.bo)((0,s.Lk)("textarea",{class:"form-control input-off-white",id:"songNarrative",rows:"3","onUpdate:modelValue":t[9]||(t[9]=e=>r.localSong.narrativeOutline=e),placeholder:"Narrative plot points for each section",onInput:t[10]||(t[10]=(...e)=>l.autoResize&&l.autoResize(...e)),ref:"narrativeTextarea"},null,544),[[i.Jo,r.localSong.narrativeOutline]])])]),(0,s.bF)(c,{song:r.localSong},null,8,["song"]),(0,s.Lk)("div",G,[(0,s.Lk)("div",J,[(0,s.Lk)("div",q,[t[33]||(t[33]=(0,s.Lk)("div",{class:"text-start text-dark-muted"},[(0,s.Lk)("label",{for:"templateDropdown",class:"form-label fw-bold"},"Lyrical Arrangement Template")],-1)),r.selectedTemplate?((0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("span",{innerHTML:l.arrangementVisualized(l.selectedTemplateArrangement)},null,8,Z)])):(0,s.Q3)("",!0),(0,s.bo)((0,s.Lk)("select",{class:"form-select",id:"templateDropdown","onUpdate:modelValue":t[11]||(t[11]=e=>r.selectedTemplate=e)},[t[32]||(t[32]=(0,s.Lk)("option",{value:"",disabled:""},"Select a template",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.sectionTemplates,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.name,value:e.name},(0,a.v_)(e.name)+" - "+(0,a.v_)(l.arrangementText(e.arrangement)),9,ee)))),128))],512),[[i.u1,r.selectedTemplate]]),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mt-2",onClick:t[12]||(t[12]=(...e)=>l.confirmApplyTemplate&&l.confirmApplyTemplate(...e))}," Apply Template ")])])]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.orderedSections,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id},[(0,s.bF)(d,{section:e,isFirst:0===t,isLast:t===l.orderedSections.length-1,onUpdateLine:l.updateLine,onUpdateSection:l.updateSection,onRemoveSection:l.removeSection,onMoveSection:e=>l.moveSection(t,e)},null,8,["section","isFirst","isLast","onUpdateLine","onUpdateSection","onRemoveSection","onMoveSection"])])))),128)),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[13]||(t[13]=e=>l.addSection("verse"))}," Add Verse "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[14]||(t[14]=e=>l.addSection("chorus"))}," Add Chorus "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[15]||(t[15]=e=>l.addSection("bridge"))}," Add Bridge "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold mx-1",onClick:t[16]||(t[16]=(...e)=>l.activatePlainTextView&&l.activatePlainTextView(...e))},(0,a.v_)(o.plainTextActive?"Hide Plain Text":"Show Plain Text"),1)])])}o(4114),o(4520),o(2577),o(1454);const oe={class:"card mb-3 shadow-sm bg-card"},ie={class:"card-body bg-section-card pt-1 rounded"},se={class:"row"},ne={class:"col"},ae={class:"d-flex justify-content-between align-items-center text-dark-muted"},re={class:"ms-2 fs-5 fw-bold text-capitalize"},le={class:"btn-group gap-1"},ce=["disabled"],de=["disabled"],he={class:"row"},ue={class:"col-12 col-md-4 order-1 order-md-2 mb-2 mb-md-0"},me={class:"col-12 col-md-8 order-2 order-md-1"},ge={class:"input-group mb-2"},ye=["value"],ve=["onUpdate:modelValue","placeholder"],pe={class:"btn-group ms-2 gap-1"},be=["onClick","disabled"],fe=["onClick","disabled"],we=["disabled"];function ke(e,t,o,n,r,l){const c=(0,s.g2)("CountdownTimer"),d=(0,s.g2)("RhymeThesaurusPanel");return(0,s.uX)(),(0,s.CE)("div",oe,[(0,s.Lk)("div",ie,[(0,s.Lk)("div",se,[(0,s.Lk)("div",ne,[(0,s.Lk)("div",ae,[(0,s.Lk)("div",re,[(0,s.eW)((0,a.v_)(o.section.type)+" ",1),t[10]||(t[10]=(0,s.Lk)("a",{href:"https://hookpad.hooktheory.com/",target:"_blank",class:"btn btn-outline-custom btn-sm py-0 ms-2",title:"Open Hookpad by Hooktheory in a new tab"},[(0,s.Lk)("span",{class:"bi bi-box-arrow-up-right"},[(0,s.Lk)("span",{class:"ms-2"},"Hookpad")])],-1))]),(0,s.bF)(c,{class:"ms-auto me-2 text-dark-muted"}),(0,s.Lk)("div",null,[(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold btn-sm py-0 me-2",onClick:t[0]||(t[0]=(...e)=>l.confirmRemoveSelf&&l.confirmRemoveSelf(...e))},t[11]||(t[11]=[(0,s.Lk)("span",{class:"bi bi-trash-fill"},null,-1)])),(0,s.Lk)("div",le,[(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[1]||(t[1]=e=>l.moveSelf("up")),disabled:o.isFirst}," ↑ ",8,ce),(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[2]||(t[2]=e=>l.moveSelf("down")),disabled:o.isLast}," ↓ ",8,de)])])])])]),t[17]||(t[17]=(0,s.Lk)("hr",{class:"mt-1 mb-3"},null,-1)),(0,s.Lk)("div",he,[(0,s.Lk)("div",ue,[(0,s.bF)(d),(0,s.bo)((0,s.Lk)("textarea",{class:"form-control input-off-white",rows:"10",placeholder:"Brainstorming area...","onUpdate:modelValue":t[3]||(t[3]=e=>r.brainstormingText=e)},null,512),[[i.Jo,r.brainstormingText]])]),(0,s.Lk)("div",me,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control mb-2 input-off-white","onUpdate:modelValue":t[4]||(t[4]=e=>r.sectionNarrative=e),placeholder:"This section is about..."},null,512),[[i.Jo,r.sectionNarrative]]),(0,s.Lk)("div",ge,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white","onUpdate:modelValue":t[5]||(t[5]=e=>r.chordProgression=e),placeholder:"Chord progression (e.g., C G Am F)"},null,512),[[i.Jo,r.chordProgression]]),l.availableProgressions.length?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:0,class:"form-select input-off-white","onUpdate:modelValue":t[6]||(t[6]=e=>r.selectedProgression=e),onChange:t[7]||(t[7]=(...e)=>l.applyChordProgression&&l.applyChordProgression(...e))},[t[12]||(t[12]=(0,s.Lk)("option",{value:"",disabled:""},"Select a chord progression",-1)),t[13]||(t[13]=(0,s.Lk)("option",{value:"custom"},"Custom Progression",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.availableProgressions,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e["Chord Progression"],value:e["Chord Progression"]},(0,a.v_)(e["Chord Progression"])+" - "+(0,a.v_)(e["Emotional Quality"]),9,ye)))),128))],544)),[[i.u1,r.selectedProgression]]):(0,s.Q3)("",!0)]),t[16]||(t[16]=(0,s.Lk)("hr",null,null,-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.section.lines,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"mb-2 d-flex align-items-center"},[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white","onUpdate:modelValue":e=>r.localLines[t]=e,placeholder:`Line ${t+1}`},null,8,ve),[[i.Jo,r.localLines[t]]]),(0,s.Lk)("div",pe,[(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm h-100 my-0",onClick:e=>l.moveLine(t,"up"),disabled:0===t}," ↑ ",8,be),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm h-100 my-0",onClick:e=>l.moveLine(t,"down"),disabled:t===r.localLines.length-1}," ↓ ",8,fe)])])))),128)),(0,s.Lk)("button",{class:"btn btn-outline-round mx-1",onClick:t[8]||(t[8]=(...e)=>l.removeLine&&l.removeLine(...e)),disabled:r.localLines.length<=1},t[14]||(t[14]=[(0,s.Lk)("span",{class:"fw-bold bi bi-dash-lg"},null,-1)]),8,we),(0,s.Lk)("button",{class:"btn btn-outline-round mx-1",onClick:t[9]||(t[9]=(...e)=>l.addLine&&l.addLine(...e))},t[15]||(t[15]=[(0,s.Lk)("span",{class:"bi bi-plus-lg"},null,-1)]))])])])])}const Se={class:"d-flex align-items-center justify-content-between"},Ie={class:"flex-grow-1 text-center"},Ce={key:0,class:"alert alert-danger my-1 fw-bold mx-3 py-0 text-nowrap"},We={key:1,class:"fw-bold fs-4 me-3 my-0"},Le={class:"btn-group gap-1 w-100",role:"group"};function Ee(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",Se,[(0,s.Lk)("div",Ie,[n.timerEnded?((0,s.uX)(),(0,s.CE)("p",Ce," Time's up! ")):((0,s.uX)(),(0,s.CE)("div",We,(0,a.v_)(r.formattedTime),1))]),(0,s.Lk)("div",Le,[(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[0]||(t[0]=(...e)=>r.decrementTime&&r.decrementTime(...e))}," - "),(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[1]||(t[1]=(...e)=>r.incrementTime&&r.incrementTime(...e))}," + "),(0,s.Lk)("button",{class:"btn btn-outline-custom fw-bold py-0",onClick:t[2]||(t[2]=(...e)=>r.resetTime&&r.resetTime(...e))}," Reset ")])])}var Ve={name:"CountdownTimer",data(){return{minutes:0,seconds:0,timer:null,timerEnded:!1,audio:new Audio(o(4890))}},computed:{formattedTime(){const e=this.minutes,t=this.seconds<10?"0"+this.seconds:this.seconds;return`${e}:${t}`}},methods:{startTimer(){this.timer||(this.timer=setInterval((()=>{0===this.seconds?0===this.minutes?(clearInterval(this.timer),this.timer=null,this.timerEnded=!0,this.audio.play(),setTimeout((()=>{this.timerEnded=!1}),3e3)):(this.minutes--,this.seconds=59):this.seconds--}),1e3))},incrementTime(){this.minutes++,this.startTimer()},decrementTime(){this.minutes>0&&this.minutes--},resetTime(){this.minutes=0,this.seconds=0,clearInterval(this.timer),this.timer=null,this.timerEnded=!1}}};const Pe=(0,I.A)(Ve,[["render",Ee]]);var Te=Pe;const xe={class:"input-group mb-2"},Qe={key:0,class:"mt-2 alert alert-info position-relative",style:{"max-height":"20em","overflow-y":"auto"}},De={key:1,class:"mt-2 alert alert-info position-relative",style:{"max-height":"20em","overflow-y":"auto"}},He={key:0},Re={class:"list-unstyled text-start"},Ae={key:1},Me={class:"list-unstyled text-start"},_e={class:"list-unstyled text-start"},je={class:"list-unstyled text-start"},Xe={key:2},Oe={class:"list-unstyled text-start"},Ne={key:3},Fe={class:"list-unstyled text-start"},Ue={key:4},ze={class:"list-unstyled text-start"};function Be(e,t,o,n,r,l){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",xe,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control input-off-white",placeholder:"Word helper...","onUpdate:modelValue":t[0]||(t[0]=e=>l.sanitizedRhymeQuery=e),onKeyup:t[1]||(t[1]=(0,i.jR)(((...e)=>l.fetchRhymesAndSynonyms&&l.fetchRhymesAndSynonyms(...e)),["enter"]))},null,544),[[i.Jo,l.sanitizedRhymeQuery]]),(0,s.Lk)("button",{class:"btn btn-outline-custom",onClick:t[2]||(t[2]=(...e)=>l.fetchRhymesAndSynonyms&&l.fetchRhymesAndSynonyms(...e))},t[4]||(t[4]=[(0,s.Lk)("span",{class:"bi bi-search"},null,-1)]))]),r.loading?((0,s.uX)(),(0,s.CE)("div",Qe,t[5]||(t[5]=[(0,s.Lk)("p",null,"Loading...",-1)]))):(0,s.Q3)("",!0),!r.loading&&(r.rhymes.length||r.synonyms.length||r.rawDictionaryResults)?((0,s.uX)(),(0,s.CE)("div",De,[(0,s.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 m-2","aria-label":"Close",onClick:t[3]||(t[3]=(...e)=>l.clearResults&&l.clearResults(...e))}),r.rawDictionaryResults&&r.rawDictionaryResults.length?((0,s.uX)(),(0,s.CE)("div",He,[t[6]||(t[6]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Definition:",-1)),(0,s.Lk)("ul",Re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.rawDictionaryResults,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},[(0,s.Lk)("strong",null,(0,a.v_)(e.hwi.hw),1),(0,s.eW)(" ("+(0,a.v_)(e.fl)+") ",1),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.shortdef,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])))),128))])])):(0,s.Q3)("",!0),r.rhymes.length?((0,s.uX)(),(0,s.CE)("div",Ae,[t[10]||(t[10]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Rhymes:",-1)),(0,s.Lk)("div",null,[t[7]||(t[7]=(0,s.Lk)("p",{class:"section-heading fs-6"},"1 Syllable Rhymes:",-1)),(0,s.Lk)("ul",Me,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.oneSyllableRhymes,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e.word),1)))),128))])]),(0,s.Lk)("div",null,[t[8]||(t[8]=(0,s.Lk)("p",{class:"section-heading fs-6"},"2 Syllable Rhymes:",-1)),(0,s.Lk)("ul",_e,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.twoSyllableRhymes,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e.word),1)))),128))])]),(0,s.Lk)("div",null,[t[9]||(t[9]=(0,s.Lk)("p",{class:"section-heading fs-6"},"3+ Syllable Rhymes:",-1)),(0,s.Lk)("ul",je,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.threePlusSyllableRhymes,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e.word),1)))),128))])])])):(0,s.Q3)("",!0),r.synonyms.length?((0,s.uX)(),(0,s.CE)("div",Xe,[t[11]||(t[11]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Synonyms:",-1)),(0,s.Lk)("ul",Oe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.synonyms.slice(0,20),((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),r.idioms.length?((0,s.uX)(),(0,s.CE)("div",Ne,[t[12]||(t[12]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Idioms:",-1)),(0,s.Lk)("ul",Fe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.idioms.slice(0,20),((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),r.relatedWords.length?((0,s.uX)(),(0,s.CE)("div",Ue,[t[13]||(t[13]=(0,s.Lk)("p",{class:"section-heading fs-5"},"Related Words:",-1)),(0,s.Lk)("ul",ze,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.relatedWords.slice(0,20),((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),t[14]||(t[14]=(0,s.Fv)('<p class="section-heading fs-5" data-v-c4d36c26>API Attribution:</p><ul class="list-unstyled text-start" data-v-c4d36c26><li data-v-c4d36c26> Rhyme results are provided by <a href="https://rhymebrain.com" target="_blank" data-v-c4d36c26>RhymeBrain.com</a></li><li data-v-c4d36c26> Synonym results are provided by <a href="https://dictionaryapi.com" target="_blank" data-v-c4d36c26>Merriam-Webster Thesaurus</a></li><li data-v-c4d36c26> Dictionary results are provided by <a href="https://dictionaryapi.com" target="_blank" data-v-c4d36c26>Merriam-Webster Dictionary</a></li></ul>',2))])):(0,s.Q3)("",!0)])}var $e=o(8353),Ke={data(){return{rhymeQuery:"",rhymes:[],synonyms:[],idioms:[],relatedWords:[],rawThesaurusResults:null,rawDictionaryResults:null,loading:!1}},computed:{sanitizedRhymeQuery:{get(){return this.rhymeQuery},set(e){this.rhymeQuery=$e.A.sanitize(e)}},oneSyllableRhymes(){return this.rhymes.filter((e=>1==e.syllables)).slice(0,10)},twoSyllableRhymes(){return this.rhymes.filter((e=>2==e.syllables)).slice(0,10)},threePlusSyllableRhymes(){return this.rhymes.filter((e=>e.syllables>=3)).slice(0,5)}},methods:{async fetchRhymesAndSynonyms(){if(""===this.rhymeQuery.trim())return this.rhymes=[],this.synonyms=[],this.idioms=[],this.relatedWords=[],this.rawThesaurusResults=null,void(this.rawDictionaryResults=null);this.loading=!0;try{const e=await fetch(`https://www.dictionaryapi.com/api/v3/references/collegiate/json/${this.rhymeQuery}?key=6515e3ae-2580-4db2-a88b-5c52e9444299`),t=await e.json();this.rawDictionaryResults=t;const o=await fetch(`https://www.dictionaryapi.com/api/v3/references/thesaurus/json/${this.rhymeQuery}?key=5530f2c7-3c20-4f89-8062-56afe1814600`),i=await o.json();i.length>0&&i[0].meta?(this.synonyms=i[0].meta.syns.flat(),this.idioms=i[0].meta.idioms?i[0].meta.idioms.flat():[],this.relatedWords=i[0].meta.rel_list?i[0].meta.rel_list.flat():[]):(this.synonyms=[],this.idioms=[],this.relatedWords=[]),this.rawThesaurusResults=i;const s=await fetch(`https://rhymebrain.com/talk?function=getRhymes&word=${this.rhymeQuery}`),n=await s.json();this.rhymes=n.map((e=>({word:e.word,syllables:e.syllables}))),console.log("Rhymes fetched:",this.rhymes),console.log("Synonyms fetched:",this.synonyms),console.log("Idioms fetched:",this.idioms),console.log("Related words fetched:",this.relatedWords),console.log("Raw thesaurus results:",this.rawThesaurusResults),console.log("Raw dictionary results:",this.rawDictionaryResults)}catch(e){console.error("Error fetching rhymes, synonyms, idioms, or dictionary data:",e)}finally{this.loading=!1}},clearResults(){this.rhymes=[],this.synonyms=[],this.idioms=[],this.relatedWords=[],this.rawThesaurusResults=null,this.rawDictionaryResults=null}}};const Ge=(0,I.A)(Ke,[["render",Be],["__scopeId","data-v-c4d36c26"]]);var Je=Ge,qe=JSON.parse('[{"Chord Progression":"I - IV - V","Emotional Quality":"Bright, triumphant"},{"Chord Progression":"I - V - vi - IV","Emotional Quality":"Emotional, nostalgic"},{"Chord Progression":"ii - V - I","Emotional Quality":"Resolution, jazzy"},{"Chord Progression":"I - vi - IV - V","Emotional Quality":"Romantic, uplifting"},{"Chord Progression":"I - IV - ii - V","Emotional Quality":"Flowing, smooth"},{"Chord Progression":"I - V - IV","Emotional Quality":"Upbeat, assertive"},{"Chord Progression":"I - IV - V - IV","Emotional Quality":"Majestic, classical"},{"Chord Progression":"I - vi - ii - V","Emotional Quality":"Sentimental, yearning"},{"Chord Progression":"IV - V - I","Emotional Quality":"Conclusive, celebratory"},{"Chord Progression":"vi - IV - I - V","Emotional Quality":"Longing, bittersweet"},{"Chord Progression":"I - V - vi - iii - IV","Emotional Quality":"Reflective, wistful"},{"Chord Progression":"iii - vi - IV - V","Emotional Quality":"Dreamy, evolving"},{"Chord Progression":"IV - I - V - IV","Emotional Quality":"Regal, triumphant"},{"Chord Progression":"I - ii - V","Emotional Quality":"Hopeful, anticipatory"},{"Chord Progression":"I - iii - IV","Emotional Quality":"Warm, lyrical"},{"Chord Progression":"I - V - ii - IV","Emotional Quality":"Resolute, dynamic"},{"Chord Progression":"I - IV - I","Emotional Quality":"Grounded, comforting"},{"Chord Progression":"I - V - IV - I","Emotional Quality":"Positive, complete"},{"Chord Progression":"ii - IV - V - I","Emotional Quality":"Spirited, evolving"},{"Chord Progression":"vi - ii - V - I","Emotional Quality":"Melancholic, resolving"},{"Chord Progression":"ii - V - vi","Emotional Quality":"Restless, searching"},{"Chord Progression":"IV - V - vi","Emotional Quality":"Suspenseful, delicate"},{"Chord Progression":"I - IV - vi - V","Emotional Quality":"Inspiring, emotional"},{"Chord Progression":"I - iii - vi - ii","Emotional Quality":"Reflective, tender"},{"Chord Progression":"V - IV - I - V","Emotional Quality":"Playful, cyclical"},{"Chord Progression":"I - IV - V - vi","Emotional Quality":"Expansive, optimistic"},{"Chord Progression":"ii - V - IV - I","Emotional Quality":"Sophisticated, concluding"},{"Chord Progression":"IV - I - V","Emotional Quality":"Balanced, grounded"},{"Chord Progression":"I - V - IV - V","Emotional Quality":"Joyful, triumphant"},{"Chord Progression":"I - ii - IV - I","Emotional Quality":"Pensive, lyrical"},{"Chord Progression":"vi - V - IV","Emotional Quality":"Brooding, dramatic"},{"Chord Progression":"I - vi - ii - IV","Emotional Quality":"Romantic, fluid"},{"Chord Progression":"I - IV - V - I","Emotional Quality":"Triumphant, satisfying"},{"Chord Progression":"iii - IV - I - V","Emotional Quality":"Ethereal, building"},{"Chord Progression":"I - V - iii - IV","Emotional Quality":"Sentimental, reflective"},{"Chord Progression":"I - IV - vi","Emotional Quality":"Lush, tender"},{"Chord Progression":"I - V - IV - IV","Emotional Quality":"Assertive, bold"},{"Chord Progression":"vi - IV - ii - V","Emotional Quality":"Haunting, reflective"},{"Chord Progression":"IV - I - ii - V","Emotional Quality":"Nostalgic, heartfelt"},{"Chord Progression":"vi - ii - V - IV","Emotional Quality":"Poignant, searching"},{"Chord Progression":"I - vi - iii - V","Emotional Quality":"Lighthearted, wistful"},{"Chord Progression":"I - IV - ii","Emotional Quality":"Stable, forward-moving"},{"Chord Progression":"I - V - vi - IV","Emotional Quality":"Inspiring, dramatic"},{"Chord Progression":"ii - V - IV","Emotional Quality":"Floating, jazzy"},{"Chord Progression":"I - iii - V - IV","Emotional Quality":"Romantic, tender"},{"Chord Progression":"IV - V - vi - I","Emotional Quality":"Bittersweet, hopeful"},{"Chord Progression":"V - IV - I","Emotional Quality":"Conclusive, energetic"},{"Chord Progression":"I - V - iii - ii","Emotional Quality":"Serene, introspective"},{"Chord Progression":"I - IV - iii - vi","Emotional Quality":"Lyrical, emotional"}]'),Ye=JSON.parse('[{"Chord Progression":"i - iv - v","Emotional Quality":"Somber, introspective"},{"Chord Progression":"i - VI - III - VII","Emotional Quality":"Melancholic, dramatic"},{"Chord Progression":"ii° - v - i","Emotional Quality":"Tense, resolving"},{"Chord Progression":"i - iv - VI - VII","Emotional Quality":"Dark, hopeful"},{"Chord Progression":"i - v - iv - v","Emotional Quality":"Mournful, reflective"},{"Chord Progression":"i - VI - VII","Emotional Quality":"Triumphant, strong"},{"Chord Progression":"i - iv - V","Emotional Quality":"Brooding, powerful"},{"Chord Progression":"i - VI - iv - V","Emotional Quality":"Hopeful, ascending"},{"Chord Progression":"iv - V - i","Emotional Quality":"Conclusive, bittersweet"},{"Chord Progression":"i - VII - VI - VII","Emotional Quality":"Expansive, mysterious"},{"Chord Progression":"i - III - VII - VI","Emotional Quality":"Longing, evolving"},{"Chord Progression":"i - iv - VII - i","Emotional Quality":"Dreamy, unsettled"},{"Chord Progression":"III - VII - i","Emotional Quality":"Regal, haunting"},{"Chord Progression":"i - v - VII","Emotional Quality":"Hopeful, ascending"},{"Chord Progression":"i - iv - V - i","Emotional Quality":"Mysterious, unfolding"},{"Chord Progression":"i - III - iv","Emotional Quality":"Poignant, reflective"},{"Chord Progression":"i - VI - VII - i","Emotional Quality":"Dark, resolute"},{"Chord Progression":"i - III - VII","Emotional Quality":"Bittersweet, concluding"},{"Chord Progression":"ii° - V - i","Emotional Quality":"Tense, jazzy"},{"Chord Progression":"VI - VII - i","Emotional Quality":"Mournful, serene"},{"Chord Progression":"i - v - III","Emotional Quality":"Dramatic, flowing"},{"Chord Progression":"i - iv - VII","Emotional Quality":"Ethereal, expansive"},{"Chord Progression":"i - v - VI - VII","Emotional Quality":"Haunting, rising"},{"Chord Progression":"i - III - v","Emotional Quality":"Dark, assertive"},{"Chord Progression":"VII - VI - v - i","Emotional Quality":"Restless, melancholic"},{"Chord Progression":"i - iv - V - VII","Emotional Quality":"Expansive, unsettled"},{"Chord Progression":"ii° - V - VI","Emotional Quality":"Mournful, jazzy"},{"Chord Progression":"III - VI - VII","Emotional Quality":"Majestic, evolving"},{"Chord Progression":"i - V - VII - i","Emotional Quality":"Resolute, cyclical"},{"Chord Progression":"i - iv - v - iv","Emotional Quality":"Somber, pensive"},{"Chord Progression":"VI - VII - iv","Emotional Quality":"Brooding, evolving"},{"Chord Progression":"i - VI - v - IV","Emotional Quality":"Sentimental, yearning"},{"Chord Progression":"i - iv - VII - VI","Emotional Quality":"Somber, majestic"},{"Chord Progression":"III - VII - VI - VII","Emotional Quality":"Expansive, evolving"},{"Chord Progression":"i - III - VI","Emotional Quality":"Ethereal, wistful"},{"Chord Progression":"i - iv - v - V","Emotional Quality":"Dark, cycling"},{"Chord Progression":"VII - VI - iv","Emotional Quality":"Haunting, flowing"},{"Chord Progression":"i - v - VII - VI","Emotional Quality":"Tense, resolving"},{"Chord Progression":"VI - i - iv","Emotional Quality":"Melancholic, lyrical"},{"Chord Progression":"i - VII - VI - iv","Emotional Quality":"Flowing, evolving"},{"Chord Progression":"i - III - VII - V","Emotional Quality":"Bittersweet, yearning"},{"Chord Progression":"i - iv - VI","Emotional Quality":"Mournful, steadfast"},{"Chord Progression":"i - v - VII - VII","Emotional Quality":"Expansive, lyrical"},{"Chord Progression":"ii° - VII - i","Emotional Quality":"Brooding, cyclical"},{"Chord Progression":"i - III - v - iv","Emotional Quality":"Mournful, wistful"},{"Chord Progression":"iv - V - i - VII","Emotional Quality":"Hopeful, building"},{"Chord Progression":"VI - VII - v","Emotional Quality":"Evolving, bittersweet"},{"Chord Progression":"VII - VI - iv - v","Emotional Quality":"Wistful, pensive"},{"Chord Progression":"i - v - III - VII","Emotional Quality":"Resolute, flowing"}]'),Ze=o(8626),et={emits:["update-section","remove-section","move-section","sync-chorus-sections"],props:{section:{type:Object,required:!0},isFirst:{type:Boolean,required:!0},isLast:{type:Boolean,required:!0}},components:{CountdownTimer:Te,RhymeThesaurusPanel:Je},data(){return{localLines:[...this.section.lines],sectionNarrative:this.section.sectionNarrative||"",chordProgression:this.section.chordProgression||"",brainstormingText:this.section.brainstormingText||"",majorProgressions:qe,minorProgressions:Ye,selectedProgression:"",isCustomProgression:!1}},computed:{syncedChorus(){if("chorus"===this.section.type){const e=this.$store.state.songs.find((e=>e.id===this.section.songId)).sections.filter((e=>"chorus"===e.type));if(e.length>0)return e[0]}return this.section},availableProgressions(){return[...this.majorProgressions,...this.minorProgressions]}},methods:{updateLine(e,t){this.$set(this.localLines,e,t)},moveLine(e,t){"up"===t&&e>0?[this.localLines[e-1],this.localLines[e]]=[this.localLines[e],this.localLines[e-1]]:"down"===t&&e<this.localLines.length-1&&([this.localLines[e+1],this.localLines[e]]=[this.localLines[e],this.localLines[e+1]])},confirmRemoveSelf(){confirm("Are you sure you want to remove this section?")&&this.removeSelf()},removeSelf(){this.$emit("remove-section",this.section.id)},typeColor(e){switch(e){case"verse":return"bg-verse";case"chorus":return"bg-chorus";case"bridge":return"bg-bridge";default:return"bg-secondary text-white"}},addLine(){this.localLines.push("")},removeLine(){this.localLines.length>1&&this.localLines.pop()},moveSelf(e){this.$emit("move-section",e),console.log("moveSelf emitted")},updateSection:(0,Ze.debounce)((function(){this.$emit("update-section",{...this.section,lines:this.localLines,sectionNarrative:this.sectionNarrative,chordProgression:this.chordProgression,brainstormingText:this.brainstormingText})}),1e3),syncChorusSections(){console.log("syncChorusSections clicked for section:",this.section.id);const e={lines:[...this.localLines],sectionNarrative:this.sectionNarrative,chordProgression:this.chordProgression,brainstormingText:this.brainstormingText};console.log("Chorus snapshot:",e),this.$emit("sync-chorus-sections",{sectionId:this.section.id,snapshot:e}),this.saveState()},saveState(){this.$store.dispatch("saveStateToFirestore")},applyChordProgression(){if("custom"!==this.selectedProgression)if(this.isCustomProgression=!1,this.$parent.selectedKey&&this.$parent.selectedScale){const e=this.$parent.selectedKey,t=this.$parent.selectedScale,o=t.notes(e),i={I:o[0],ii:o[1]+"m",iii:o[2]+"m",IV:o[3],V:o[4],vi:o[5]+"m","vii°":o[6]+"°"};this.chordProgression=this.selectedProgression.split(" - ").map((e=>i[e]||e)).join(" - ")}else this.chordProgression=this.selectedProgression;else this.isCustomProgression=!0}},watch:{localLines:{handler(){this.updateSection()},deep:!0},sectionNarrative(){this.updateSection()},brainstormingText(){this.updateSection()},chordProgression(){this.updateSection()},selectedProgression(){this.applyChordProgression()},"$parent.selectedKey"(){this.isCustomProgression||this.applyChordProgression()},"$parent.selectedScale"(){this.isCustomProgression||this.applyChordProgression()}}};const tt=(0,I.A)(et,[["render",ke]]);var ot=tt;const it={class:"card-body"},st={class:"d-flex justify-content-between align-items-center"},nt={key:0};function at(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",{class:(0,a.C4)(["card bg-card mb-3 shadow-sm",{minimized:n.isMinimized}])},[(0,s.Lk)("div",it,[(0,s.Lk)("div",st,[t[1]||(t[1]=(0,s.Lk)("p",{class:"text-start text-dark-muted fw-bold mb-3"},"Chrome Music Lab",-1)),(0,s.Lk)("button",{class:(0,a.C4)(["btn btn-outline-custom btn-sm fw-bold mb-3",n.isMinimized?"bi bi-chevron-down ":"bi bi-chevron-up"]),onClick:t[0]||(t[0]=(...e)=>r.toggleMinimize&&r.toggleMinimize(...e))},(0,a.v_)(n.isMinimized?"Expand":"Minimize"),3)]),n.isMinimized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",nt,t[2]||(t[2]=[(0,s.Lk)("div",{class:"mb-3",style:{height:"650px"}},[(0,s.Lk)("iframe",{src:"https://musiclab.chromeexperiments.com/",class:"staff-iframe",frameborder:"0"})],-1)])))])],2)}var rt={name:"MelodyManager",props:{song:{type:Object,required:!0}},data(){return{isMinimized:!0,tempo:120,measureLength:4}},methods:{toggleMinimize(){this.isMinimized=!this.isMinimized}}};const lt=(0,I.A)(rt,[["render",at],["__scopeId","data-v-e7be025a"]]);var ct=lt;const dt=[{name:"Standard",arrangement:["v","c","v","c","b","c"]},{name:"Extended",arrangement:["v","c","v","c","v","b","c"]},{name:"Simple",arrangement:["v","c","v","c"]},{name:"Bridge First",arrangement:["b","v","c","v","c"]},{name:"Outro Heavy",arrangement:["v","c","v","c","c","c"]},{name:"Intro and Outro",arrangement:["v","c","b","c","v","c"]},{name:"Double Bridge",arrangement:["v","c","v","b","b","c"]},{name:"Refrain Heavy",arrangement:["v","c","v","c","c"]},{name:"Minimalist",arrangement:["v","c"]},{name:"All Verse",arrangement:["v","v","v","v"]},{name:"Verse Driven",arrangement:["v","v","c","v","c"]},{name:"Double Verse",arrangement:["v","v","c","v","v","c"]},{name:"No Bridge",arrangement:["v","c","v","c","v","c"]},{name:"Climactic",arrangement:["v","c","v","b","c","b","c"]},{name:"Retro",arrangement:["v","b","v","c","b","c"]},{name:"Experimental",arrangement:["b","c","v","b","v","c"]},{name:"Crescendo",arrangement:["v","c","v","c","b","c","c"]},{name:"Intro Repeat",arrangement:["v","v","c","v","c","c"]},{name:"Verse First",arrangement:["v","v","v","c","v","c"]},{name:"Bridge Ending",arrangement:["v","c","v","c","b","b"]},{name:"Triple Verse",arrangement:["v","v","v","c","c"]},{name:"Verse Heavy",arrangement:["v","v","v","c","v","b"]},{name:"All Chorus",arrangement:["c","c","c","c"]},{name:"Double Outro",arrangement:["v","c","v","c","c","c","c"]},{name:"Chorus Build",arrangement:["v","c","v","b","c","c"]},{name:"Looping",arrangement:["v","c","v","c","v","c"]},{name:"Climactic Outro",arrangement:["v","c","v","b","c","c","c"]},{name:"All Bridge",arrangement:["b","b","b","b"]},{name:"Interlude Focus",arrangement:["v","c","b","b","c"]},{name:"Outro Bridge",arrangement:["v","c","v","b","b"]},{name:"Verse Intro",arrangement:["v","v","c","b","c"]},{name:"Chorus First",arrangement:["c","v","v","c","b","c"]},{name:"Bridge Finale",arrangement:["v","c","v","c","b","b","b"]},{name:"Bridge Peak",arrangement:["v","c","b","b","c","c"]},{name:"Balanced",arrangement:["v","c","b","c","b","c"]},{name:"Layered",arrangement:["v","c","b","v","c","c"]},{name:"Dynamic",arrangement:["b","c","v","c","b","c"]},{name:"Inverse",arrangement:["c","v","b","v","c"]},{name:"Echo",arrangement:["v","c","v","b","v","c"]},{name:"End Focus",arrangement:["v","c","b","c","b","c"]},{name:"Sequential",arrangement:["v","c","b","v","c","b"]},{name:"Complex",arrangement:["v","c","v","b","c","v","b","c"]},{name:"Heavy Outro",arrangement:["v","c","b","c","c","c"]},{name:"Evolving",arrangement:["v","c","v","b","v","c","b"]},{name:"Drift",arrangement:["v","v","c","b","v","c"]},{name:"Offset",arrangement:["v","b","c","v","b","c"]},{name:"Stacked",arrangement:["v","v","b","b","c","c"]},{name:"Triple Bridge",arrangement:["v","c","b","b","b","c"]},{name:"Finale",arrangement:["v","c","v","c","b","b","c"]},{name:"Vibrant",arrangement:["v","c","b","c","v","c"]},{name:"Repeater",arrangement:["v","c","v","c","b","c","b","c"]}];var ht=dt;const ut=[{mood:"Happy",implications:"Major chords"},{mood:"Sad",implications:"Minor chords and slower tempo"},{mood:"Angry",implications:"Distorted guitars and fast tempo"},{mood:"Excited",implications:"Upbeat rhythm and high energy"},{mood:"Calm",implications:"Soft dynamics and slow tempo"},{mood:"Romantic",implications:"Smooth melodies and gentle harmonies"},{mood:"Melancholic",implications:"Minor chords and reflective lyrics"},{mood:"Energetic",implications:"Driving beat and syncopation"},{mood:"Reflective",implications:"Acoustic instruments and slow pace"},{mood:"Hopeful",implications:"Ascending melodies and major chords"},{mood:"Triumphant",implications:"Bold brass and rising dynamics"},{mood:"Mysterious",implications:"Unresolved chords and unusual scales"},{mood:"Tense",implications:"Dissonance and repetitive rhythms"},{mood:"Cheerful",implications:"Bright instrumentation and quick tempo"},{mood:"Lonely",implications:"Sparse arrangement and minor keys"},{mood:"Playful",implications:"Bouncy rhythms and quirky instrumentation"},{mood:"Dark",implications:"Low tones and slow, brooding tempo"},{mood:"Dreamy",implications:"Echo effects and soft harmonies"},{mood:"Optimistic",implications:"Rising melodies and energetic tempo"},{mood:"Nostalgic",implications:"Warm tones and vintage instrumentation"},{mood:"Aggressive",implications:"Heavy percussion and intense dynamics"},{mood:"Peaceful",implications:"Smooth transitions and mellow tones"},{mood:"Groovy",implications:"Syncopated bass lines and steady rhythm"},{mood:"Quirky",implications:"Unexpected chord progressions and unusual instruments"},{mood:"Ethereal",implications:"Reverb-heavy and light textures"}];var mt=ut;const gt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var yt=gt;const vt=[{name:"Major",emotionalQuality:"Happy",intervals:["W","W","H","W","W","W","H"],notes:e=>pt(e,["W","W","H","W","W","W","H"]),chords:["Maj","min","min","Maj","Maj","min","dim"]},{name:"Minor",emotionalQuality:"Sad",intervals:["W","H","W","W","H","W","W"],notes:e=>pt(e,["W","H","W","W","H","W","W"]),chords:["min","dim","Maj","min","min","Maj","Maj"]},{name:"Dorian",emotionalQuality:"Jazz-like",intervals:["W","H","W","W","W","H","W"],notes:e=>pt(e,["W","H","W","W","W","H","W"]),chords:["min","min","Maj","Maj","min","dim","Maj"]},{name:"Phrygian",emotionalQuality:"Exotic",intervals:["H","W","W","W","H","W","W"],notes:e=>pt(e,["H","W","W","W","H","W","W"]),chords:["min","Maj","Maj","min","dim","Maj","min"]},{name:"Lydian",emotionalQuality:"Dreamy",intervals:["W","W","W","H","W","W","H"],notes:e=>pt(e,["W","W","W","H","W","W","H"]),chords:["Maj","Maj","min","dim","Maj","min","min"]},{name:"Mixolydian",emotionalQuality:"Bluesy",intervals:["W","W","H","W","W","H","W"],notes:e=>pt(e,["W","W","H","W","W","H","W"]),chords:["Maj","min","dim","Maj","min","Maj","min"]},{name:"Locrian",emotionalQuality:"Dissonant",intervals:["H","W","W","H","W","W","W"],notes:e=>pt(e,["H","W","W","H","W","W","W"]),chords:["dim","Maj","Maj","min","min","Maj","min"]},{name:"Pentatonic",emotionalQuality:"Versatile",intervals:["W","W","WH","W","WH"],notes:e=>pt(e,["W","W","WH","W","WH"]),chords:["Maj","min"]},{name:"Blues",emotionalQuality:"Soulful",intervals:["W","H","H","WH","H","WH"],notes:e=>pt(e,["W","H","H","WH","H","WH"]),chords:["min","min","dim"]},{name:"Harmonic Minor",emotionalQuality:"Dramatic",intervals:["W","H","W","W","H","WH","H"],notes:e=>pt(e,["W","H","W","W","H","WH","H"]),chords:["min","dim","Aug","min","Maj","Maj","dim"]},{name:"Melodic Minor",emotionalQuality:"Sophisticated",intervals:["W","H","W","W","W","W","H"],notes:e=>pt(e,["W","H","W","W","W","W","H"]),chords:["min","min","Aug","Maj","Maj","dim","dim"]}];function pt(e,t){const o=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];let i=[],s=o.indexOf(e);if(-1===s)throw new Error("Invalid key");return i.push(o[s]),t.forEach((e=>{s+="W"===e?2:"H"===e?1:3,i.push(o[s%12])})),i}var bt=vt;const ft=["Write about a memory you can't fully trust.","Imagine the smell of a season you've never experienced.","Describe a moment when silence felt louder than words.","What's the shape of regret? Let it sing.","Revisit an ordinary conversation that changed your life.","Capture the feeling of being late for something that no longer matters.","What would a bird think of your happiest memory?","Describe the sound of something breaking—slowly.","Write about a dream you haven't had yet.","What's hiding in the gap between two goodbyes?","Take a childhood fear and make it a hero.","Write about a day when everything seemed upside down but no one noticed.","Imagine forgetting something important. What remains?","What color was the sky when you first felt alive?","Write about the last time you lied to yourself.","What's the texture of a memory you're trying to bury?","Write as though you're whispering to someone who isn't there.","What's the taste of an unfinished apology?","Turn an argument into a map. Where does it lead?","Describe your reflection if the mirror told the truth.","What would your shadow say about you?","Write about a moment you were seen—but didn't want to be.","How does joy behave when it thinks no one's watching?","Write about the weight of an ordinary object.","What song does the moon hum when no one's awake?","Describe the first time you realized the world isn't fair.","Imagine laughter as something tangible—what would you do with it?","What's the echo of something you've lost?","Write about the first time you truly felt the weather.","Take a piece of advice you never followed. Write its story.","What does your name taste like to someone who's never spoken it?","Describe the sound of an unanswered question.","Write about a time when your favorite song betrayed you.","How does loneliness change the shape of a room?","What's the melody of a secret you've kept for years?","Write about a stranger you'll never meet again.","What would happen if your happiest memory were rewritten?","Describe the way light moves when no one's around to see it.","Write about the moment before you knew what would happen.","What's the rhythm of someone walking away?","How would your favorite place apologize for changing?","What's the sound of holding back tears?","Write about an apology you never gave.","How does time feel in your hands?","Describe the first time you forgot something important.","What's the chorus of a goodbye you never said?","Imagine your favorite memory is a movie—write the end credits.","Write about the way a place remembers you.","What's the sound of something you can't forgive?","Describe how the wind feels when it's carrying someone else's story.","Write about a smile that felt like a trap.","What's the sound of a conversation ending too soon?","Describe a relationship as though it were a piece of furniture.","Write about the space between holding hands and letting go.","What's the texture of a goodbye you didn't believe?","Imagine two people who are mirrors for each other. What do they see?","Write about the first time someone's laugh felt like home.","What would a misunderstanding look like if it were alive?","Describe the way someone's voice changed when they stopped caring.","Write about a moment when a hug felt heavier than words.","How does betrayal move through the air?","What's the taste of an unspoken truth between two people?","Imagine a relationship as a staircase—where does it lead?","Write about a love that never quite fit.","Describe the shadow of someone you miss.","What's the sound of a fight that isn't over?","Write about a secret you shared but wish you hadn't.","What does forgiveness smell like?","Write about a moment when a glance said everything.","What's the shape of a promise you couldn't keep?","Describe the way someone's absence feels in a crowded room.","Write about the rhythm of a relationship that stopped working.","What does longing look like when it thinks no one's watching?","Write about a time when words weren't enough.","How does love behave when it's trying to hide?","Describe a relationship as though it were a river. Where does it flow?","What's the melody of two people who've drifted apart?","Write about a moment when you felt replaced.","What does a shared secret sound like from a distance?","Imagine a friendship as a plant—describe how it grows.","What's the taste of a conversation you regret?","Write about the silence that lingers after an argument.","Describe a relationship that felt like a puzzle with missing pieces.","What does affection feel like when it's unspoken?","Write about a laugh you haven't heard in years.","What's the weight of a memory two people share but don't talk about?","Imagine a phone call that never happened—what was said?","Write about a relationship as though it were a piece of music.","What's the sound of someone walking away without looking back?","Describe the feeling of being known too well.","Write about a time when a compliment felt like a lie.","What does a goodbye sound like when it's meant forever?","Imagine two people who are oceans apart—what connects them?","Write about the way someone's presence changes a room.","What's the rhythm of a relationship that never quite began?","Describe a moment when someone's kindness caught you off guard.","Write about the taste of a relationship that's gone sour.","What does regret feel like when it belongs to someone else?","Imagine a relationship as a storm—what's the aftermath?","Write about a moment when you couldn't say what needed to be said.","Write about the first time you felt out of place in a crowd.","What's the sound of trying to blend in?","Describe a moment when you felt invisible and powerful at the same time.","What's the shape of responsibility as you carry it?","Write about a time when the rules didn't make sense to you.","How does ambition feel in your hands?","Imagine your role in society as a thread in a larger fabric—what color is it?","What's the rhythm of a system you don't understand?","Write about the weight of expectations that weren't yours to carry.","What does a small act of rebellion taste like?","Describe the sound of your voice among many others.","Write about a time when you questioned your purpose.","What's the melody of being overlooked?","Imagine your job as a dance—how do you move?","Write about a moment when you felt like a cog in a machine.","What does respect look like when it's worn thin?","Describe the feeling of contributing to something larger than yourself.","What's the taste of compromise in the name of survival?","Write about the sound of a paycheck hitting your hands.","Imagine being a pillar in a crumbling structure—how do you hold up?","What's the texture of obligation?","Describe a moment when you felt like a stranger in your own city.","What does hope sound like when it's shared by many?","Write about a role you didn't choose but took on anyway.","What's the rhythm of fitting in where you don't belong?","Imagine your life as a book—what's the title society would give it?","Write about a moment when you stood up for something you believed in.","What does success feel like when it doesn't look like you imagined?","Describe the weight of an unspoken expectation.","Write about the sound of marching forward even when you don't agree.","What's the melody of holding a sign in protest?","Imagine your role in society as a clock—how do you tick?","Write about a moment when you felt like you were just going through the motions.","What does responsibility smell like when it's left undone?","Describe the feeling of being a small part of something enormous.","What's the texture of a system that doesn't see you?","Write about a moment when you felt your contribution wasn't enough.","Imagine your role in society as a tree—what kind of tree are you?","What does sacrifice feel like when it's unnoticed?","Write about the rhythm of working to live rather than living to work.","Describe the sound of stepping out of line.","What's the weight of following rules that don't feel fair?","Write about a moment when you felt judged by strangers.","What's the melody of a system you want to change?","Imagine being the bridge between two sides—what does that feel like?","Write about the feeling of being both celebrated and misunderstood.","What does progress sound like when it moves too slowly?","Describe a moment when you felt like you belonged and didn't at the same time.","What's the taste of conformity?","Write about the sound of your role shifting in an unsteady world.","What would Earth write in a letter to humanity?","Describe the first sunrise as seen by humankind.","What's the sound of progress when it costs too much?","Imagine the collective heartbeat of humanity—what does it feel like?","Write about the weight of history on the shoulders of the present.","What's the melody of hope when it spans generations?","Describe humanity's shadow—what does it look like?","What would the stars say if they could speak?","Write about a moment when humanity seemed like one person.","What's the taste of a world rebuilding itself?","Imagine the song of a future humanity.","What does the planet sound like when it's sighing?","Write about the first handshake between two worlds.","What's the color of humanity's dreams?","Describe the echo of human voices in an empty space.","What does kindness look like when multiplied by billions?","Write about the way we leave marks on the world.","What's the sound of forgiveness when it spans the entire species?","Imagine humanity as a tree—how do its branches grow?","Write about the way humanity sees itself in the mirror.","What would a river say about the humans it's carried?","Describe the first time someone looked at the moon and wondered.","What's the rhythm of innovation and destruction?","Write about humanity as though it were a single person.","What does love look like on a global scale?","Imagine humanity's collective memory as a library—what's missing?","What's the sound of a billion people dreaming at once?","Write about the balance between creation and consumption.","Describe the first moment someone realized they weren't alone.","What does the Earth feel like when it's forgotten?","Write about humanity's relationship with time.","What's the taste of a shared meal that spans cultures?","Describe the way humans find meaning in the stars.","What's the melody of a planet on the brink of change?","Write about humanity's relationship with its own reflection.","What does survival sound like when it's a global effort?","Imagine the collective grief of the world—what does it say?","Write about a moment when humanity overcame its differences.","What's the color of understanding between strangers?","Describe the way humanity would introduce itself to the universe.","What's the sound of the first footstep on an untouched world?","Write about the way humanity remembers its mistakes.","What does the future look like when it smiles back?","Imagine the Earth as a canvas—what does humanity paint?","What's the rhythm of rebuilding what was once lost?","Write about the shared experience of looking up at the sky.","What does compassion sound like on a planetary scale?","Describe humanity's place in the infinite.","What's the melody of the first song sung by every culture?","Write about the way humanity holds onto hope.","What would a cat say if it could text?","Describe a day in the life of a professional procrastinator.","What's the secret life of a sock that goes missing in the laundry?","Write about a world where everyone communicates through dance.","What's the story behind the last slice of pizza?","Describe the adventures of a rubber duck in a bathtub.","What would happen if gravity took a day off?","Write about a conversation between a toaster and a refrigerator.","What's the most ridiculous conspiracy theory you can think of?","Describe a day where everything you touch turns into cheese.","What's the plot of a soap opera starring houseplants?","Write about a superhero whose power is extreme laziness.","What would a dog's diary entry look like?","Describe a world where everyone has to rhyme when they speak.","What's the most absurd law you can imagine?","Write about a day in the life of a professional napper.","What's the story behind a mysterious rubber chicken?","Describe a world where everyone has to wear mismatched shoes.","What would happen if all the clocks in the world stopped?","Write about a conversation between a pencil and an eraser.","What's the most bizarre dream you've ever had?","Describe a world where everyone has to sing instead of talk.","What's the plot of a reality show starring garden gnomes?","Write about a day where everyone can read each other's thoughts.","What would happen if the internet disappeared for a week?","Describe a world where everyone has to wear a hat at all times.","What's the story behind a haunted coffee mug?","Write about a conversation between a cloud and a rainbow.","What would happen if animals could vote?","Describe a world where everyone has to walk backwards.","What's the most ridiculous invention you can think of?","Write about a day in the life of a professional bubble blower.","What's the story behind a mysterious pair of sunglasses?","Describe a world where everyone has to wear pajamas all day.","What would happen if all the books in the world disappeared?","Write about a conversation between a spoon and a fork.","What's the most absurd talent show act you can imagine?","Describe a world where everyone has to wear roller skates.","What would happen if all the colors in the world changed?","Write about a day where everyone can only speak in questions.","What's the story behind a mysterious key with no lock?","Describe a world where everyone has to wear a costume every day.","What would happen if all the mirrors in the world disappeared?","Write about a conversation between a lamp and a chair.","What's the most bizarre holiday you can think of?","Describe a world where everyone has to wear sunglasses indoors.","What would happen if all the music in the world stopped?","Write about a day in the life of a professional daydreamer.","What's the story behind a mysterious old photograph?","Describe a world where everyone has to wear mismatched socks."];var wt=ft,kt={name:"SongComplete",components:{SongSection:ot,MelodyManager:ct},props:{song:{type:Object,required:!0},plainTextActive:{type:Boolean,required:!0}},data(){return{localSong:{...this.song,sections:this.song.sections||[]},selectedTemplate:"",sectionTemplates:ht,moods:mt,keys:yt,scales:bt,prompts:wt,selectedTheme:"",romanNumerals:["I","ii","iii","IV","V","vi","vii°"],majorProgressions:qe,minorProgressions:Ye,chordProgressions:[]}},created(){console.log("Song prop:",this.song),this.updateChordProgressions()},computed:{orderedSections(){return(this.localSong.sections||[]).slice().sort(((e,t)=>e.order[0]-t.order[0]))},selectedTemplateArrangement(){const e=this.sectionTemplates.find((e=>e.name===this.selectedTemplate));return e?e.arrangement:[]},selectedMoodImplication(){const e=this.moods.find((e=>e.mood===this.localSong.mood));return e?e.implications:""},selectedKey(){return this.localSong.key},selectedScale(){return this.scales.find((e=>e.name===this.localSong.scale))},selectedScaleNotes(){return this.selectedScale?this.selectedScale.notes(this.selectedKey):[]},selectedScaleChords(){return this.selectedScale?this.selectedScale.chords:[]}},watch:{song:{handler(e){this.localSong={...e,sections:e.sections||[]},console.log("Updated localSong:",this.localSong),this.$nextTick((()=>{this.autoResize({target:this.$refs.narrativeTextarea})}))},immediate:!0},localSong:{handler(e){this.updateSong(e),this.scheduleSaveStateToLocalStorage()},deep:!0},selectedKey(){this.updateChordProgressions()},selectedScale(){this.updateChordProgressions()}},methods:{...(0,k.i0)(["updateSong","scheduleSaveStateToLocalStorage"]),arrangementVisualized(e){return e.map((e=>{switch(e){case"v":return'<span class="badge bg-primary me-1">Verse</span>';case"c":return'<span class="badge bg-success me-1">Chorus</span>';case"b":return'<span class="badge bg-danger me-1">Bridge</span>';default:return""}})).join("")},arrangementText(e){return e.map((e=>{switch(e){case"v":return"Verse";case"c":return"Chorus";case"b":return"Bridge";default:return""}})).join(" - ")},confirmApplyTemplate(){confirm("Are you sure you want to apply this template? This will clear all existing sections.")&&this.applyTemplate()},applyTemplate(){const e=this.sectionTemplates.find((e=>e.name===this.selectedTemplate));e&&(this.localSong.sections=e.arrangement.map(((e,t)=>({id:t+1,order:[t],type:this.sectionLabel(e),lines:["","","",""],sectionNarrative:"",brainstormingText:""}))),this.updateSong(this.localSong))},updateLine({sectionId:e,index:t,newLine:o}){const i=this.localSong.sections.find((t=>t.id===e));i&&this.$set(i.lines,t,o)},addSection(e){const t={id:this.localSong.sections.length+1,order:[this.localSong.sections.length],type:e,lines:["","","",""],sectionNarrative:"",brainstormingText:""};this.localSong.sections.push(t)},updateSection:(0,Ze.debounce)((function(e){const t=this.localSong.sections.findIndex((t=>t.id===e.id));-1!==t&&this.localSong.sections.splice(t,1,e),this.updateSong(this.localSong)}),1e3),removeSection(e){this.localSong.sections=this.localSong.sections.filter((t=>t.id!==e))},moveSection(e,t){if(console.log("moveSection called"),console.log(e,t),"up"===t&&e>0){const t=this.localSong.sections[e];this.localSong.sections[e]=this.localSong.sections[e-1],this.localSong.sections[e-1]=t}else if("down"===t&&e<this.localSong.sections.length-1){const t=this.localSong.sections[e];this.localSong.sections[e]=this.localSong.sections[e+1],this.localSong.sections[e+1]=t}this.localSong.sections.forEach(((e,t)=>{e.order=[t]})),this.updateSong(this.localSong)},activatePlainTextView(){this.$emit("toggle-plain-text")},badgeClass(e){switch(e){case"v":return"bg-primary";case"c":return"bg-success";case"b":return"bg-warning";default:return"bg-secondary"}},sectionLabel(e){switch(e){case"v":return"Verse";case"c":return"Chorus";case"b":return"Bridge";default:return"Unknown"}},autoResize(e){const t=e.target;t.style.height="auto",t.style.height=`${t.scrollHeight}px`},updateChordProgressions(){this.selectedKey&&this.selectedScale?this.chordProgressions=this.selectedScale.name.toLowerCase().includes("minor")?this.minorProgressions:this.majorProgressions:this.chordProgressions=[...this.majorProgressions,...this.minorProgressions]},handleThemeChange(){"custom"!==this.selectedTheme?this.localSong.theme=this.selectedTheme:this.localSong.theme=""},selectRandomPrompt(){const e=Math.floor(Math.random()*this.prompts.length);this.selectedTheme=this.prompts[e],this.localSong.theme=this.selectedTheme}}};const St=(0,I.A)(kt,[["render",te]]);var It=St;const Ct={class:"row"},Wt={class:"col"},Lt={class:"card bg-card shadow-sm pb-3"},Et={class:"card-body"},Vt={class:"d-flex align-items-center"},Pt={key:0,class:"tooltip-content p-2"},Tt={class:"table input-off-white text-dark-muted"},xt=["onClick"],Qt={class:"text-start",scope:"row"},Dt={class:"text-start"},Ht={class:"text-start"},Rt={class:"text-start"},At={class:"row"},Mt={class:"col"};function _t(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",Ct,[(0,s.Lk)("div",Wt,[(0,s.Lk)("div",Lt,[(0,s.Lk)("div",Et,[(0,s.Lk)("div",Vt,[t[3]||(t[3]=(0,s.Lk)("h1",{class:"fs-4 my-auto fw-bold text-start text-dark-muted"}," Song Library ",-1)),(0,s.Lk)("div",{class:"bi bi-info-circle ms-2",onClick:t[0]||(t[0]=e=>n.showTooltip=!n.showTooltip)})]),n.showTooltip?((0,s.uX)(),(0,s.CE)("div",Pt,t[4]||(t[4]=[(0,s.Lk)("p",{class:"small"}," This app uses local storage to save your data. Local storage is a browser-specific feature that stores data on your device. This means your data is only accessible on the device and browser you are currently using. ",-1)]))):(0,s.Q3)("",!0),t[6]||(t[6]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("table",Tt,[t[5]||(t[5]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",{class:"text-start"},[(0,s.Lk)("th",{scope:"col",style:{width:"5%"}},"#"),(0,s.Lk)("th",{scope:"col",style:{width:"20%"}},"Title"),(0,s.Lk)("th",{scope:"col",style:{width:"45%"}},"Hook"),(0,s.Lk)("th",{scope:"col",style:{width:"20%"}},"Last Edit")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.getSongs,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,onClick:t=>r.selectSong(e),class:(0,a.C4)({"table-primary":e.id===r.activeSongId,"cursor-pointer":!0})},[(0,s.Lk)("th",Qt,(0,a.v_)(t+1),1),(0,s.Lk)("td",Dt,(0,a.v_)(e.title),1),(0,s.Lk)("td",Ht,(0,a.v_)(e.hook),1),(0,s.Lk)("td",Rt,(0,a.v_)(r.formatDate(e.lastEdit)),1)],10,xt)))),128))])])]),(0,s.Lk)("div",At,[(0,s.Lk)("div",Mt,[(0,s.Lk)("button",{class:"btn btn-outline-custom me-2 btn-sm fw-bold",onClick:t[1]||(t[1]=(...e)=>r.confirmRemoveSong&&r.confirmRemoveSong(...e))}," Remove Song "),(0,s.Lk)("button",{class:"btn btn-outline-custom btn-sm fw-bold",onClick:t[2]||(t[2]=(...e)=>r.newSong&&r.newSong(...e))}," Add Song ")])])])])])}var jt={name:"SongLibrary",data(){return{selectedSong:null,showTooltip:!1}},computed:{...(0,k.L8)(["getSongs","getActiveSong"]),activeSongId(){return this.getActiveSong?this.getActiveSong.id:null}},methods:{...(0,k.i0)(["addSong","deleteSong","setActiveSong","updateSong","setSongs","resetStore"]),selectSong(e){this.selectedSong&&this.updateSong(this.selectedSong),this.selectedSong=e,this.setActiveSong(e)},newSong(){this.addSong()},confirmRemoveSong(){this.selectedSong?confirm(`Are you sure you want to remove the song "${this.selectedSong.title}"?`)&&this.removeSong():alert("Please select a song to remove.")},removeSong(){this.selectedSong&&(this.deleteSong(this.selectedSong.id),this.selectedSong=null,this.refreshAppState())},refreshAppState(){0===this.getSongs.length?this.resetStore():(this.setSongs(this.getSongs),this.setActiveSong(null))},formatDate(e){const t=new Date(e),o={month:"2-digit",day:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleString("en-US",o).replace(",","")}},watch:{getSongs:{handler(){this.selectedSong&&(this.selectedSong=this.getSongs.find((e=>e.id===this.selectedSong.id)))},deep:!0},getActiveSong:{handler(e){this.selectedSong=e},immediate:!0}}};const Xt=(0,I.A)(jt,[["render",_t],["__scopeId","data-v-7b21fbd6"]]);var Ot=Xt,Nt={name:"ActivityView",components:{SongLibrary:Ot,SongComplete:It,PlainTextLayout:W},computed:{...(0,k.L8)({activeSong:"getActiveSong",unsavedChanges:"getUnsavedChanges"}),unsavedChanges(){return this.activeSongChanged||this.localSongChanged}},watch:{activeSong:{handler(e){this.localSong={...e},this.saveStateToLocalStorage(),this.activeSongChanged=!0},immediate:!0},localSong:{handler(e){this.updateSong(e),this.activeSongChanged||this.debounceSaveState(),this.localSongChanged=!0},deep:!0}},data(){return{localSong:null,plainTextActive:!1,debounceTimeout:null}},methods:{...(0,k.i0)(["updateSong","saveStateToLocalStorage","setUnsavedChanges"]),togglePlainText(){this.plainTextActive=!this.plainTextActive},debounceSaveState(){clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((()=>{this.saveStateToLocalStorage(),this.activeSongChanged=!1,this.localSongChanged=!1}),1e3)},manualSaveState(){this.saveStateToLocalStorage(),this.setUnsavedChanges(!1)}}};const Ft=(0,I.A)(Nt,[["render",v]]);var Ut=Ft,zt={name:"App",components:{ActivityView:Ut}};const Bt=(0,I.A)(zt,[["render",n]]);var $t=Bt,Kt=o(2952),Gt=o.n(Kt);const Jt=(0,k.y$)({state:{songs:JSON.parse(localStorage.getItem("songs"))||[],activeSong:JSON.parse(localStorage.getItem("activeSong"))||null,user:null,unsavedChanges:!1},mutations:{SET_UNSAVED_CHANGES(e,t){e.unsavedChanges=t},SET_USER(e,t){e.user=t},SET_SONGS(e,t){e.songs=t},ADD_SONG(e,t){e.songs.push(t)},DELETE_SONG(e,t){const o=e.songs.findIndex((e=>e.id===t));-1!==o&&e.songs.splice(o,1)},UPDATE_SONG(e,t){const o=e.songs.findIndex((e=>e.id===t.id));-1!==o&&(e.songs[o]={...e.songs[o],...t,lastEdit:(new Date).toISOString()})},SET_ACTIVE_SONG(e,t){e.activeSong={...t}},UPDATE_SECTION(e,{songId:t,section:o}){const i=e.songs.find((e=>e.id===t));if(i){const e=i.sections.findIndex((e=>e.id===o.id));-1!==e&&i.sections.splice(e,1,o)}},RESET_STORE(e){e.songs=[],e.activeSong=null}},actions:{setUnsavedChanges({commit:e},t){e("SET_UNSAVED_CHANGES",t)},setUser({commit:e},t){e("SET_USER",t)},setSongs({commit:e},t){e("SET_SONGS",t)},addSong({commit:e,dispatch:t}){const o={id:(new Date).getTime(),title:"Untitled",mood:"",hook:"",theme:"",narrativeOutline:"",sections:[],lastEdit:(new Date).toISOString()};e("ADD_SONG",o),t("scheduleSaveStateToLocalStorage")},addSection({commit:e,dispatch:t},o){e("ADD_SECTION",o),t("scheduleSaveStateToLocalStorage")},deleteSong({commit:e,dispatch:t},o){e("DELETE_SONG",o),t("scheduleSaveStateToLocalStorage")},updateSong({commit:e,dispatch:t},o){e("UPDATE_SONG",o),t("scheduleSaveStateToLocalStorage")},setActiveSong({commit:e},t){e("SET_ACTIVE_SONG",t)},updateSection({commit:e,dispatch:t},o){e("UPDATE_SECTION",o),t("scheduleSaveStateToLocalStorage")},resetStore({commit:e,dispatch:t}){e("RESET_STORE"),t("scheduleSaveStateToLocalStorage")},saveStateToLocalStorage({state:e}){localStorage.setItem("songs",JSON.stringify(e.songs)),localStorage.setItem("activeSong",JSON.stringify(e.activeSong)),console.log("State saved to local storage")},scheduleSaveStateToLocalStorage:Gt()((({dispatch:e})=>{e("saveStateToLocalStorage")}),1e3),loadStateFromLocalStorage({commit:e}){const t=JSON.parse(localStorage.getItem("songs"))||[],o=JSON.parse(localStorage.getItem("activeSong"))||null;e("SET_SONGS",t),e("SET_ACTIVE_SONG",o),console.log("State loaded from local storage")}},getters:{getUnsavedChanges(e){return e.unsavedChanges},getSongs(e){return e.songs},getActiveSong(e){return e.activeSong},user(e){return e.user}}});Jt.dispatch("loadStateFromLocalStorage");var qt=Jt,Yt=o(1387);const Zt=[{path:qt.getters.useLandingPage?"/activity":"/",name:"ActivityView",component:Ut}],eo=(0,Yt.aE)({linkExactActiveClass:"fw-bold",history:(0,Yt.LA)("/lyric-writing-assistant/"),routes:Zt});var to=eo;async function oo(){(0,i.Ef)($t).use(qt).use(to).mount("#app")}oo()},4890:function(e,t,o){e.exports=o.p+"media/alarm.e1848079.mp3"}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,i,s,n){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],n=e[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[l])}))?i.splice(l--,1):(r=!1,n<a&&(a=n));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/lyric-writing-assistant/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(l)var d=l(o)}for(t&&t(i);c<a.length;c++)n=a[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},i=self["webpackChunklyric_writing_assistant"]=self["webpackChunklyric_writing_assistant"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(145)}));i=o.O(i)})();
//# sourceMappingURL=app.0285dc07.js.map